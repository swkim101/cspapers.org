Urban prediction tasks that aim to model the complicated spatial and temporal patterns of urban indicators (such as weather, vehicle charging demand, etc.) for accurate prediction, have been increasingly important in constructing smart cities and accelerating the urbanization process in the modern era. However, most existing works of urban prediction have only concentrated on spatial and temporal correlations, but ignored the effect of distribution shift from spatial and temporal perspectives; this could largely hinder the performance of urban prediction tasks. In order to solve this problem, in this paper, we propose a Shift-Aware Urban Prediction (SAUP) framework to eliminate the inherent shift effect among spatial-temporal urban time series data. Specifically, SAUP starts with a Shift Elimination Module, built upon our proposed Spatial-Temporal Attention Flows (STAF) composed of invertible attentions and coupling layers of normalizing flows in order to transform the raw shifted data into a unified distribution to remove the spatiotemporal shift. After the shift effect is eliminated, the Correlation Processing Module of SAUP further captures the core correlations to learn spatiotemporal dependencies, in which topological correlations and geographic correlations are jointly learned by GCN and CNN based on pre-defined graphs and extracted POI information. In addition, SAUP includes a model-agnostic Forecasting Module, which can be employed as any forecasting architecture to accomplish the predictions. To recover the raw distribution information, the output of the Forecasting Module is further taken for the inverse transformation of the Shift Elimination Module to produce the final forecasts. We have conducted extensive experiments in the SAUP framework, coupled with six state-of-the-art spatiotemporal forecasting models on two real-world datasets. Experimental results have demonstrated the consistent improvements of SAUP over the baseline algorithms.