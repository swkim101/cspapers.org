
 One of the most important challenges in shared mobility services (
 e.g.
 , ride-sharing and parcel delivery) is planning routes for workers by considering real road conditions. To tackle this challenge, the "insertion operator", which computes the optimal route for the worker to serve (
 i.e.
 , insert) the newly appeared delivery request, has been acted as the fundamental operation in existing solutions. However, existing works implicitly assume a static road network, hence are hard to fulfill the real-world scenario, where travel time between two locations is not constant at different times of a day. By contrast, we focus on the insertion operator over time-dependent road networks that capture the periodic pattern of road conditions. We also show that the time complexity of existing solutions would degrade into cubic time and hence such solutions can no longer satisfy the real-time requirement under this real-world setting. To satisfy the need for real-time computation, we propose a data summary to model the time-dependent travel time functions between pairs of vertices in the route. Based on the data summary, we design an efficient solution that can enumerate the best insertion position in linear time while satisfying complex spatiotemporal constraints. Finally, extensive experiments are conducted on real datasets from several applications of shared mobility. The results show that our solution is up to 44.5X faster than the state-of-the-art solution.
