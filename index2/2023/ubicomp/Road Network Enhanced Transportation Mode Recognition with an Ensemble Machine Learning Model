Participants of the fifth edition of SHL recognition challenge 2023 aim to recognize eight locomotion or transportation modes in a user-independent manner based on motion and GPS sensor data. The "Fighting_zsn" team proposes an ensemble machine learning model based on road network which is experimentally shown to significantly improve model performance. First, both time-domain and frequency-domain features are extracted from the provided data, and public spatial-domain information is incorporated to get road network features. Besides, contextual information is captured by changing and window-based features derived from features mentioned above. With comprehensive experiments on the validation data, the ensemble model based on XGBoost, LightGBM, and Random Forest is chosen for the solution. Finally, results show that the model performs well when recognizing activity modes, achieving a weighted F1 score of 0.80 and an averaged precision score of 0.82. The source codes and experimental results are available from: https://github.com/zhaoyaya1234/SHL2023.