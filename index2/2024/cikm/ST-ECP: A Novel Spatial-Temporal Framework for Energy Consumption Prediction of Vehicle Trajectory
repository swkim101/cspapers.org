Accurately predicting Vehicle Energy Consumption (VEC) is crucial for estimating a vehicle's total energy requirements along a predetermined trajectory. Current research mainly focuses on personalized models that enhance VEC prediction accuracy by leveraging driving behavior features extracted from historical trajectory data. However, there are still two significant limitations. First, existing algorithms predominantly model trajectories with coarse granularity, focusing solely on overall characteristics and neglecting the crucial interplay between vehicles, drivers, and the environments, which fundamentally shape trajectory dynamics. Second, current models predict driver behavior preferences solely from vehicle operational states in historical trajectories, often overlooking the influence of external environmental factors. To overcome these limitations, we introduce a Spatial-Temporal Framework for Energy Consumption Prediction of Vehicle Trajectories (ST-ECP). Specifically, we construct a heterogeneous interaction graph that captures the complex relationships between vehicles, environments, and drivers, effectively characterizing the dynamic attributes of trajectories across various conditions. Additionally, we design a personalized pattern aggregation module to extract personalized driving behavior features. Extensive experimental on real-world datasets demonstrate the effectiveness and efficiency of ST-ECP.