Portfolio optimization is a significant concern in finance. Existing research on portfolio optimization fails to adequately learn from the long and short-term relationships among equities, which inevitably leads to suboptimal performance. In this paper, we propose a Dynamic Graph-based Deep Reinforcement Learning (DGDRL) for optimal portfolio decisions. We achieve this goal by devising two mechanisms for naturally modeling the financial market. Firstly, we utilize the static and dynamic graphs to represent the long and short-term relations, which are then naturally represented by the proposed multi-channel graph attention neural network. Secondly, compared with the traditional two-phase approach, forecasting equity's trend and then weighting them by combinatorial optimization, we naturally optimize the portfolio decisions, which could directly guide the model to converge to optimal rewards. Through extensive experiments on three real-world datasets, we have demonstrated that our method significantly outperforms state-of-the-art benchmark methods in portfolio management. Furthermore, the evaluation of the industrial trading system has shown the applicability of our model to real-world financial markets.