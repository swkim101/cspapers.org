The development of wireless communication technology is reshaping the landscape of intelligent transportation systems, particularly in the realm of internet of vehicles (IoV). Among these, integrated sensing and communications (ISAC) has garnered widespread attention by leveraging shared hardware resources or even spectrum between sensing and communication to achieve integrated benefits. For IoV, parameters such as target position and speed estimated by ISAC can be used as prior information for resource allocation and beamforming to improve communication performance. In this paper, we focus on ISAC-enabled IoV, where radar sensing signals and communication signals are transmitted within different slots of a subframe to avoid interference. We propose a resource allocation scheme to maximize system throughput while meeting the differentiated needs of all users, where spatial division multiple access is dynamically employed based on network load. Simulation outcomes verify the efficiency of the suggested algorithm.