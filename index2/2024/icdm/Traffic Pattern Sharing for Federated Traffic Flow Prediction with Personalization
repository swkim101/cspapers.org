Accurate Traffic Flow Prediction (TFP) is crucial for enhancing the efficiency and safety of transportation systems, so it has attracted intensive researches by exploiting spatial-temporal dependencies within road networks. However, existing works only consider the case of centralized data collection with all traffic data observed, which may raise privacy concerns as each region of a city may have its own traffic administration department and the traffic data is not allowed to distribute. Therefore, this paper proposes to use Federated Learning (FL) to address this issue by allowing all clients (i.e., traffic administration departments in all regions in our problem) to collaboratively train TFP models without exchanging raw data, thereby offering a solution in maintaining data privacy. Nevertheless, most existing FL methods aim to learn a global model that performs well universally, so they cannot well handle the non-Independent and Identically Distributed (non-IID) traffic data naturally over different regions. To cope with this problem, this paper develops a new FL framework termed “personalized Federated learning with Traffic Pattern Sharing” (FedTPS) to solve federated TFP problem. Our FedTPS critically exploits the underlying common traffic patterns (e.g., morning and evening rush hours) shared across different city regions and meanwhile maintaining the region-specific data characteristics in a personalized FL manner. Specifically, to extract the common traffic patterns, we decompose the traffic data in each client via using discrete wavelet transform, where the low-frequency components uncover the stable traffic dynamics of different regions and thus can be considered as the common traffic patterns. These common patterns are then shared among different clients through traffic pattern repositories on the server side to aid the global collaborative traffic flow modeling. Moreover, the model components capturing spatial-temporal dependencies in traffic data are retained for local training, thereby enabling personalized learning based on regional characteristics. Intensive experiments on four real-world traffic datasets firmly demonstrate the superiority of our proposed FedTPS over other compared typical FL methods in terms of various estimation errors.