This paper provides a fog-based approach to solving the traffic light optimization problem which utilizes the Adaptive Traffic Signal Control (ATSC) model. ATSC systems demand the ability to strictly reflect real-time traffic state. The proposed fog computing framework, namely FogFly, aligns with this requirement by its natures in location-awareness, low latency and affordability to the changes in traffic conditions. As traffic data is updated timely and processed at fog nodes deployed close to data sources (i.e., vehicles at intersections) traffic light cycles can be optimized efficiently while virtualized resources available at network edges are efficiently utilized. Evaluation results show that services running in FogFly produce better performance comparing to those in cloud computing approaches.