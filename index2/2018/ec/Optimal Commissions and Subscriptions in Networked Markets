Platforms facilitating the exchange of goods and services between individuals are prevalent: one can purchase goods from others on eBay, arrange accommodation through Airbnb, and find temporary projects/workers on online labor markets such as Upwork. The majority of these markets exhibit three key features. First, the platforms do not dictate the transaction prices, i.e., buyers and sellers determine at which price the goods/services will be exchanged. Second, not all buyers or sellers on a platform are compatible. This may be due to taste differences (a buyer may be interested only in the types of goods/services a subset of the sellers offer), geographical or import/export restrictions (e.g., being able to provide services only regionally), or other sources of mismatch (e.g., a mismatch in the desired and available skills in online labor markets). Finally, buyers/sellers are heterogeneous in their valuations for goods or services they receive/provide. In exchange for facilitating trade, these platforms commonly obtain a commission from each transaction and/or charge subscription fees to sellers and buyers who access the platform. As such, their revenues depend both on the chosen commission/subscription fees and on the prices at which buyers/sellers transact. In settings that exhibit the aforementioned features, how should a platform design commission/subscription fees with the objective of maximizing its revenues? Is it sufficient to charge these to only one side of the market or is it necessary to charge them to both sides? What is the role of the underlying compatibility structure, and which structures are more conducive to higher revenues? In order to answer these questions, we consider a model where potential buyers and sellers are divided into types. Not all buyer and seller types are compatible with each other, and we represent the compatibility across these types using a bipartite network: nodes on one side correspond to buyer types, nodes on the other side correspond to seller types, and edges capture compatibility between different types of buyers and sellers. Agents within each type differ in their valuation for the goods they buy/sell. The platform chooses subscription fees, which must be paid by all agents who participate in the market. In addition, it chooses commissions, and a buyer/seller who exchanges goods/services pays a fraction of the transaction price to the platform as indicated by these commissions. The value distributions, subscription fees, and commissions are all possibly type-specific. Given the commissions/subscriptions chosen by the platform, the transaction prices and equilibrium trades are formed endogenously at a competitive equilibrium. We establish that, in order to maximize its revenues, the platform may need to charge different commissions/subscriptions to different types, depending on their network position. In fact, we show that if the same commissions/subscriptions are employed for all agents on the same side, the revenue loss can be unbounded. We complement this worst-case result by providing a bound on the revenue loss in terms of the supply/demand imbalance across the network under homogeneous value distributions. Surprisingly, we also show that, in general, charging commissions/subscriptions to only one side of the market (i.e., only to buyers or only to sellers) leads to lower revenues than optimal, even when different types on the same side can be charged different fees. Furthermore, we characterize the impact of the network structure on the revenues of the platform. Finally, we investigate how the commissions/subscriptions chosen by the platform impact social welfare. We establish that, under mild convexity assumptions on the value distributions, the revenue-maximizing commissions/subscriptions induce at least 2/3 of the maximum achievable social welfare.