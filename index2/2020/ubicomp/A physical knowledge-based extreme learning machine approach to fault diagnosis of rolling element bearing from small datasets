The learning-based methods have been widely applied to design a fault diagnosis model for rolling element bearing. However, the mainstream methods can only deal with the large training dataset, which is always violated in practical application. In this paper, we propose a physical knowledge-based hierarchical extreme learning machine(H-ELM) approach to adapt the problem of fault diagnosis for bearing with the small and imbalanced dataset. First, the proposed method uses the simple feature extraction algorithm to build a knowledge base for sample selection from the historical database, and the given training dataset is augmented with knowledge base. Second, a modified H-ELM algorithm is developed to identify fault location and recognize fault severity ranking based on the augmented dataset. Third, we design a self-optimizing module to optimize the sample selection and improve the performance of the H-ELM network. To evaluate the effectiveness of the proposed approach, the H-ELM without knowledge base and data augmentation-based support vector machine(SVM), back propagation neuron networks(BPNN) and deep belief networks(DBN) are tested in the numerical experiments to present a comprehensive comparison. The experimental results demonstrate that our approach outperforms in accuracy than other counterparts when dealing with the small and imbalanced datasets.