In online display advertising, guaranteed delivery (GD) ads and real-time bidding (RTB) are two main ways to sell impressions for a publisher. While RTB has gained increasing popularity, there is still a proportion of revenue generated from GD ads [1]. Existing mainstream impression allocation models deal with the two delivery ways separately, failing to achieve optimal allocation for multi-objective under multi-constraints, e.g., maximizing gross merchandise volume pre mille (GPM) and revenue per mille (RPM), thus limiting the overall revenue for both the publisher and advertisers. To solve the above problems, we propose a unified guaranteed impression allocation framework to optimally allocate impressions for both GD ads and RTB ads simultaneously. Specifically, we formulate the optimization problem as a non-convex quadratically constrained quadratic programming (QCQP) problem. Then we design an end-to-end unified impression allocation framework to approximately solve the QCQP problem. Furthermore, experiments on real data from Tencent News show that our design significantly increases the overall revenue of both the publisher and advertisers, while achieving much faster convergence than the current state-of-the-art methods.