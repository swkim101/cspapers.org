Self-balancing lower limb rehabilitation exoskeletons (SLLREs) allow individuals with lower limb dysfunction to walk without the use of crutches. Stable and human-like walking motions are crucial for SLLREs because achieving a close imitation of healthy human walking is a key goal in rehabilitation therapy. Existing SLLREs can realize stable walking but lack human-like features such as knee-stretched, heel-strike and toe-off. This paper designs a walking motion generator based on hierarchical optimization to generate a human-like walking motion with variable hip height, heelstrike, toe-off, and knee-stretched features. This generator consists of a knee-stretched optimizer and a stabilizing filter. Specifically, the knee-stretched optimizer realizes the stretched knee feature by optimizing the hip trajectory with varying heights. And the stabilizing filter realizes stable walking by optimizing the hip trajectory in the sagittal plane direction. To validate the effectiveness of the proposed human-like walking motion generator, walking experiments were conducted on SLLRE AutoLEE-G3 both in a simulation environment and the real world. The experimental results show that the humanlike walking motions look more natural and reduce the required torque for the knee joint compared with knee-bent walking.