The gender gap in cybersecurity remains a persistent and concerning issue. Despite efforts to promote diversity and inclusivity, women remain significantly underrepresented in cybersecurity roles. One of the primary factors contributing to the gender gap in cybersecurity is the lack of female representation and encouragement in STEM (Science, Technology, Engineering, and Mathematics) fields. Stereotypes and societal biases often dissuade girls and young women from pursuing careers in these fields, leading to a smaller pool of women candidates entering the cybersecurity workforce. In this work, we present CyberTrials, a CTF-based cybersecurity program for Italian upper secondary schoolgirls. Our program utilizes a gamified hybrid learning environment, combining theoretical online lectures with interactive team activities in the form of competitive games. Although each team autonomously tackles the game challenges, participants may adopt prosocial behavior, including collaborative peer interactions and mentoring. This collaborative approach enhances problem-solving skills and fosters a culture of mutual support. Here, we outline the technical details of our approach, including the technologies involved and the data collected during CyberTrials. Our analysis, comprising both quantitative and qualitative findings and demonstrates three key outcomes: (i) the successful engagement of participants; (ii) the facilitation of the learning process through the introduction of entry-level CTF challenges, and; (iii) a remarkable shift in participants inclination towards pursuing STEM studies at the university.