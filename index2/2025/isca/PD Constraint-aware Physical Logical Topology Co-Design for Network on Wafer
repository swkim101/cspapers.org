As cluster scales for LLM training expand, waferscale chips, characterized by the high integration density and bandwidth, emerge as a promising approach to enhancing training performance. The role of Network on Wafer (NoW) is becoming increasingly significant, which puts an emphasis on two facts: physical and logical topology. However, existing networks fail to co-design both aspects. Additionally, physical topology typically focuses on optimizing communication or computation separately, neglecting opportunities to improve overall training performance. In this paper, we propose a physical design (PD) constraint-aware joint optimization strategy, developing mesh-switch physical topology and a dual-granularity logical topology. Mesh-switch leverages the high integration density of mesh and the efficient communication performance of fat tree, optimizing the allocation of on-chip communication and computation resources thoroughly considering the physical constraints of waferscale chips. Furthermore, we conduct a DSE algorithm to search for the optimal mesh-switch configuration. Based on the proposed physical topology, we design the most appropriate logical topology, and further enhance bandwidth utilization through a fine-grained overlap strategy. Evaluation results demonstrate that our NoW design achieves nearly a 2.39 Ã— performance improvement in LLM training compared to existing networks. Our comprehensive design approach, which integrates physical and logical topologies with constraint considerations, can also be applied to network designs in other contexts.