We study the optimal design of tests in environments where agents can invest in inputs (e.g., effort) to enhance their individual outputs (e.g., human capital), which are then sold in a competitive market (e.g., labor market). Recognizing agents' heterogeneity in converting inputs into outputs, the designer devises a test to maximize the expected total output.