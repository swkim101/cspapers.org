In 56 developing and developed countries, blood component donations by volunteer non-remunerated donors can only meet less than 50% of the demand. In these countries, blood banks rely heavily on replacement donor programs that provide blood to patients in return for donations made by their close relatives or friends. These programs appear to be disorganized, non-transparent, and inefficient. We introduce the design of replacement donor programs and blood allocation schemes as a new application of market design. We formulate a general blood allocation and replacement donation model. Within this framework, we introduce optimal blood allocation mechanisms that accommodate fairness, efficiency, and other allocation objectives, together with endogenous exchange rates between received and donated blood units beyond the classical one-for-one exchange. Additionally, the mechanisms provide correct incentives for the patients to bring forward as many replacement donors as possible. This framework and the mechanism class can also apply to general applications of multi-unit exchange of indivisible goods with compatibility-based preferences beyond blood allocation.