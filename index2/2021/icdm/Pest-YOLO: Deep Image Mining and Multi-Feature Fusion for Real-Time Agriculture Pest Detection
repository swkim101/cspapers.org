The frequent outbreaks of agriculture pests have caused heavy losses in crop production. And the small size and high similarity of agricultural pests bring challenges to the prompt and accurate pest detection using imaging technologies. The key impetus of this paper is to achieve a good balance between efficiency and accuracy for pest detection on the basis of agricultural image data mining. This paper proposes Pest-YOLO which is a real-time agriculture pest detection method based on the improved convolutional neural network (CNN) and YOLOv4. First, a squeeze-and-excitation attention mechanism module is introduced to CNN for mining image data, extracting key features, and suppressing unrelated features. Then, a cross-stage multi-feature fusion method is designed to improve the structure of feature pyramid network and path aggregation network, thus enhancing the feature expressiveness of small targets like pests. Finally, our Pest-YOLO realizes end-to-end real-time pest detection with high accuracy based on improved CNN and YOLOv4. We evaluate the performance of our method on a typical large-scale pest dataset including 28k images and 24 classes. Experimental results demonstrate that our method outperforms the state-of-the-art solutions including Faster R-CNN and YOLO-based detectors, and achieves good performance with 71.6% mAP and 83.5% Recall. The proposed method is effective and applicable for accurate and real-time intelligent pest detection without expertise feature engineering.