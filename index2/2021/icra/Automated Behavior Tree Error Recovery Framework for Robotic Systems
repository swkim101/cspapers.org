Reacting to unexpected conditions and recovering from errors is crucial for robots to perform their missions continuously in dynamic environments. This paper introduces a novel framework aiming to handle errors impairing the quality of robot services concerning on-line management of error recovery. The framework is a combination of an execution generation tool, a learning module, and a recovery pipeline for error detection, diagnosis, and recovery in robotic systems. The execution generation tool generates control flow instructions and parameter files, then extracts necessary skills from the skill library based on application descriptions or recovery solution recipes. In the learning module, a Bayesian Network (BN) decision model is interactively and continually trained, incorporating application information structured according to the Failure Mode and Effects Analysis (FMEA) method. The recovery pipeline implements a decision model inferring the cause of an error and choosing recovery solutions. We will provide an experimental evaluation of our framework on a pick-and-place application performed by a robot arm in the physical world.