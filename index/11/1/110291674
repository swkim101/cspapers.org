Due to the impact of the lens optical system and the different manufacturing processes, there could be causing the vignetting when using a CCD camera to take pictures. This paper analyzes the causes of the lens vignetting and put forward a method for reducing this error to improve the accuracy of the intensity of illumination detection. Firstly, according to the analysis of the existing research on the camera lens, concluded that there are two factors that cause vignetting. Secondly, based on the conclusion, do large amounts of test in each case. Analyze for the influence of illumination test in each case. Finally, the article put forward a set of vignetting correction method to correct the image be collected in a fixed aperture. The result shows that the method can effectively reduce vignetting measuring error and has a good stability.