Crowd flow prediction, which aims to predict the in-out flows (e.g. the traffic of crowds, taxis and bikes ) of different areas of a city, is critically important to many real applications including public safety and intelligent transportation systems. The challenges of this problem lie in both the dynamic mobility patterns of crowds and the complex spatial-temporal correlations. Meanwhile, crowd flow is highly correlated to and affected by the Origin-Destination (OD) locations of the flow trajectories, which is largely ignored by existing works. In this paper, we study the novel problem of predicting the crowd flow and flow OD simultaneously, and propose a multi-task adversarial spatial-temporal network model entitled MT-ASTN to effectively address it. As a multi-task learning model, MT-ASTN adopts a shared-private framework which contains private spatial-temporal encoders, a shared spatial-temporal encoder, and decoders to learn the task-specific features and shared features. To effectively extract high quality shared features, a discriminative loss on task classification and an adversarial loss on shared feature extraction are incorporated to reduce information redundancy. We also design an attentive temporal queue to automatically capture the complex temporal dependency without the help of domain knowledge. Extensive evaluations are conducted over the bike and taxicab trip datasets in New York. The results demonstrate that our approach significantly outperforms state-of-the-art methods by a large margin on both tasks.