This paper proposes to use high-altitude platform (HAP)-based relaying and link-layer automatic repeat request (ARQ) techniques to improve the performance of the satellite quantum key distribution (QKD) over free-space optics (FSO) systems. We also develop analytical frameworks based on two 3D Markov chain models allowing us to comprehensively analyze the performance of the proposed system in terms of key loss rate and delay outage rate. Our performance analysis takes into account the physical layer impairments induced by FSO channel and receiver noise. Numerical results quantitatively demonstrate that the satellite FSO/QKD system using HAP-based relaying and link-layer ARQ techniques can offer considerable performance improvement over the conventional ones.