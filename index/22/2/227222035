For a static system with a limited complexity, risk analysis releases often on event graphs model (e.g fault tree), and risk assessment is based on the event probability and its consequences. This method is static in numerous cases whilst the treated events are time dependent. In addition, it is important to notice that a system or activity failure can change the behavior of the entire system and especially for re-configurable systems. So, to have a good risk assessment, analysis-based simulation is a good solution.This paper describes a generic approach using agent-based modeling and simulation for risk analysis based on petri-nets (RAPN). It presents a new petri-net extension that shows the dynamic behavior of an agent to deal with failure situations according to a predefined behaviour set. The new extension represents the dynamic behavior of agent variables, modes and behavior set. The interaction among those components is concurrent and that is why petri-net model is chosen to represent it and control it. The task of determining which failure mode is used, is mathematically defined. The validity of the proposed model is illustrated through a set of Theorems and Lemmas. A case-study for risk analysis for dangerous good transportation is shown.