The aim of wind farm design is to maximize energy production and minimize cost. In particular, optimizing the placement of turbines in a wind farm is crucial to minimize the wake effects that impact energy production. Most work on wind farm layout optimization has focused on flat terrains and spatially uniform wind regimes. In complex terrains, however, the lack of accurate analytical wake models makes it difficult to evaluate the performance of layouts quickly and accurately as needed for optimization purposes. This paper proposes an algorithm that couples computational fluid dynamics (CFD) with mixed-integer programming (MIP) to optimize layouts in complex terrains. High-fidelity CFD simulations of wake propagation are utilized in the proposed algorithm to constantly improve the accuracy of the predicted wake effects from upstream turbines in complex terrains. By exploiting the deterministic nature of MIP layout solutions, the number of expensive CFD simulations can be reduced significantly. The proposed algorithm is demonstrated on the layout design of a wind farm domain in Carleton-sur-Mer, Quebec, Canada. Results show that the algorithm is capable of producing good wind farm layouts in complex terrains while minimizing the number of computationally expensive wake simulations.