To provide with an effective method for non-photorealistic rendering for computer generated images with halftoning artistic appearances from 2D images motivates our work in this paper. The methods proposed in this paper are inspired by improved error diffusion method and image enhancement, and the whole diffusion algorithm is based on the average threshold. Firstly, source image should be transferred to the gray image. Then, error diffusion, spread component and parameter confirming can be used to obtain more details. Experimental results show that the proposed method can simulate the halftoning effect in real time, and blemishes of the results can be eliminated.