WirelessHART is a kind of wireless mesh network communication standard specially designed for industrial process automation applications and FHSS as well as TDMA mechanism guarantees its robustness. In this paper, time slots and channels are allocated for each link in WirelessHART networks by edge-coloring, and a graph route-based link scheduling algorithm with collision avoidance is proposed. By combining the optimal routing algorithm with the multi-hop retransmission mechanism, the performance of WirelessHART networks is effectively improved. The analysis shows that the proposed scheduling strategy has a higher reliability and a lower latency than previous scheduling algorithms, which meets the requirements of the real-time communication in WirelessHART networks.