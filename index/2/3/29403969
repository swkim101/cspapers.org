Consultation is a method widely used in computer centers for helping people to use unfamiliar computer systems or languages. Unfortunately, consultants are scarce, expensive, and often unavailable when needed. This paper describes the implementation of an automated consultant for MACSYMA, called the Advisor. 
 
The Advisor's implementation is based on the assumption that the MACSYMA novice behaves in accordance with a standard heuristic problem solving algorithm, called MUSER. This assumption is supported by a body of data on the problem solving behavior of MACSYMA users. In solving his problem, the user implicitly generates a goal-subgoal graph, called a "plan". The plan is a direct proof that the commands used actually achieve the goal (in terms of the user's beliefs), and the problem solving algorithm constitutes a grammar for such plans. 
 
The key to the consultation process is the analysis of the user's plan. First, the plan is reconstructed by a combined process of dialogue and automatic plan recognition, and then the underlying beliefs are checked for errors. Because of the MUSER model, the Advisor is able to diagnose not only standard errors but also more general misconceptions.