Diversity and financial aid concerns often lead schools to "reserve" some slots for specific types of students or tuition contracts. Students only care about their school assignments and contractual terms---they are indifferent among slots within a school. These indifferences can be resolved in multiple ways. As we illustrate using the cases of Chicago and Boston public schools, the method of indifference resolution impacts the eventual allocation, and thus presents a novel opportunity for market design.
 We introduce a two-sided, many-to-one matching with contracts model in which agents with unit demand match to branches, which may have multiple slots available to accept contracts. Each slot has its own linear priority order over contracts; a branch chooses contracts by filling its slots sequentially. This model of matching with slot-specific priorities embeds classical priority matching frameworks, models of affirmative action, and the cadet--branch matching framework.
 In matching markets with slot-specific priorities, (1) branches' choice functions may not satisfy the substitutability conditions typically crucial for matching with contracts, and (2) agent-optimal stable outcomes may not exist. Despite these complications, we are able to show that stable outcomes exist in the slot-specific priority matching framework---they can be found by a cumulative offer mechanism that is strategy-proof and respects unambiguous improvements in priority.
 Our results provide insight into the design of transparent affirmative action mechanisms and show the value of a seemingly ad hoc administrative decision in the United States Military Academy's branch-of-choice program.