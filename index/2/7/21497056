Feature-based image retrieval and feature matching have been used together in many applications, but they have been treated as two separate problems. We propose an unified approach which, for a query image, finds a set of candidate images together with feature matching results. By considering the local geometric consistency of neighboring features, we can find more and better feature matches even in challenging situations. Since the proposed forward/backward matching and non-linear diffusion run very efficiently, they can be used in the candidate image selection and improve the image retrieval performance significantly. Through quantitative comparisons we show that the proposed approach performs better than the recent state-of-the-art feature matching algorithms and image retrieval algorithms.