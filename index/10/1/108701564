The samples marked bottlenecks and imbalanced protocol flows restrict the development of the network traffic classification technology, to solve this problem a semi-supervised machine learning traffic identification method is presented. Employ K-means algorithm to partition a training datasets that consists of a few labeled flows combined with abundant unlabeled flows.Then, identify the unlabeled samples using the labeled samples in the cluster based on k Nearest Neighbor algorithm. The theoretical analysis and experimental results show that the algorithm can improve the recognition rate of minority flows in the case of the imbalanced protocol flows.