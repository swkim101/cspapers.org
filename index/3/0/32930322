The design of laboratory experiments is a complex and important scientific task. The MOEGEN project has been developing computer systems for automating the design process in the domain of molecular biology. SPEX is a second-generation system which synthesizes the best ideas of two previous MOLGEN hierarchical planning systems: stepwise refinement of skeletal plans and a layered control structure. It has been tested successfully on several problems in the task domain and promises to serve as a testbed for future work in explanation, experiment debugging, and empirical evaluation of different basic design strategies.