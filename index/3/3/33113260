Consider a database containing not only base relations but also derived relations (also called materialized or concrete views). Relation fragments in a distributed database, view indexes, and intermediate results obtained during query procsssing are all examples of derived relations. The query transformation problem is then the following: Given a query (or a subquery), can it be computed from the available set of derived relations, and, if so, how? We have solved the query transformation problem for the case when both the query and the derived relations are defined by P&I-expressions, that is, relational algebra expressions containing only projects, selects and joins. This paper gives an overview of the underlying theory, shows how to reduce the number of attribute mappings to be considered, and presents a prototype system for query transformation.