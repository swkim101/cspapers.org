Robots are extremely difficult to program in uncertain environments. Sensors are required to get feedback and detect the actual world state. In order to adapt to new situations, robots must be able to learn from examples or from their own experience. Learning can be accelerated if the available a priori task knowledge is used. The proposed sensor-based architecture combines learning with programmed modules. The correspondence between qualitative states and actions is learnt. Programming is used to decrease the complexity of the learning task. Numerical and qualitative processing are integrated in a suitable scheme for a wide range of robot tasks. Examples for a real insertion task are provided, where force sensing and the relative position are sufficient to successfully learn the task. The solution is thus valid for any other target location.