Virtual Ad Hoc Network (VAN) testbed aims at achieving large scale application testing for ad hoc networks by integrating host virtualization and network simulation. Efficient use of storage space is essential for such testbeds. Storage redundancy resulting from duplicated files and application installations across the virtual machines in a large scale testbed (> a few hundred VMs) can be significantly reduced by using storage sharing techniques. Although Content Addressable Storage (CAS) along with Copy-on-write can remove storage redundancy at block-level, it requires hash computation for every write operation that incurs considerable online computation overhead.
 To address the unique problems where the virtual machines on the testbed would have identical or very similar file system structure, we propose File-level Block Sharing (FBS) that identifies redundant blocks by only comparing the blocks belonging to the files with same or similar filenames across virtual machines. FBS is applicable to both SAN storage systems and cluster file systems. Our proof-of-concept prototype on iSCSI and Linux LVM showed only 1.78% lost in throughput.