We consider the general problem of selling a limited inventory of items to heterogeneous customers who arrive sequentially, and analyze the competitive ratio under adversarial arrivals. Previous work in this area, motivated by online matching, advertising, and assortment problems, has considered the case where each item can be sold at only a single price. This work has culminated in two classes of algorithms: "balance'' algorithms, which achieve the best-possible competitive ratio of 1-1/e in an asymptotic large-inventory ("small bids") regime; and "ranking'' algorithms, which achieve the best-possible competitive ratio of 1-1/e in the deterministic case of online matching. In this paper, we extend both of these classes of results to allow for items to have multiple feasible prices. Our algorithms introduce the idea of "booking limits'' from revenue management and integrate them into the multiplicative penalty functions used for online matching and allocation problems. Our algorithms achieve the best-possible weight-dependent competitive ratios, which depend on the sets of feasible prices given in advance. To establish this tightness, we show that by optimizing our additive "value function'' used to make allocation decisions, the resulting objective value is the same as that of an adversary's optimization problem for designing a weighted upper-triangular graph. Our "balance'' algorithm and its analysis further use a randomly-perturbed version of this value function; aside from being asymptotically optimal, they improve the best-known dependence of the competitive ratio on the starting inventory amounts.