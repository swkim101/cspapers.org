Edge computing for the Internet of Things prescribes executing applications on server machines closer to devices rather than depending on the cloud. However, server machines are expensive, are not flexible to adapt to varying application requirements, require gateways to interact with IoT devices, and follow a centralized model which increases traffic and application latency. Special-purpose hardware for the edge is becoming increasingly sophisticated, with support for machine learning, secure enclaves etc., and this work is an attempt to leverage such hardware to cooperatively execute edge applications, rather than relying on expensive edge servers. To do so, our design relies on a distributed middleware which can seamlessly scale up with new hardware, and a task scheduler which best matches application requirements with the hardware capabilities available. We have built a prototype middleware that operates on multiple gateways in our testbed of 250 IoT devices, and we plan to further improve our platform to support more varying use cases.