In modern robotics, the manipulators are no longer isolated under fully controlled conditions but rather conceived to work in unconstrained environments. Under these operations, compliant control and passivity properties of the robot are of great importance, and thus the systemâ€™s energy function plays a crucial role in the control design. In this work, we propose a new design of cartesian impedance control for a flexible robot whose dynamics is represented within the port-Hamiltonian framework. To improve the performance of the system and maximize the capabilities of the robot, the robotic control system is enhanced with energy tanks that allow for temporarily non-passive operations, but ensure the passivity of the extended system. In addition, a secondary controller is designed using the port-Hamiltonian approach to cover the case of redundant robotic manipulators. The performance of the full control system is tested via simulations of the Kuka iiwa manipulator in closed loop with the proposed passivity-based controller. The results show a satisfactory performance of the control system for set-point regulation, external forces, time-varying reference trajectories, and parametric uncertainty.