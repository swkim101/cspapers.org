We propose a decentralized approach that simultaneously allocates and decomposes high level tasks among various robots. The approach exploits HTN structures and algorithms, that are used within an auction-based allocation scheme, and aims at dealing with complex tasks with causal or temporal relations. The paper formalizes the approach, and depicts how HTN planning processes are used to estimate bids and distribute tasks. Results on a statistical series of coverage problems are presented and their performance is assessed through a comparison with a state of the art algorithm.