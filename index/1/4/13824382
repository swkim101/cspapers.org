Since web workloads are known to vary dynamically with time, in this paper, we argue that dynamic resource allocation techniques are necessary to provide guarantees to web applications running on shared data centers. To address this issue, we use a system architecture that combines online measurements with prediction and resource allocation techniques. To perform resource allocation, we model a server resource that services multiple applications as a generalized processor sharing (GPS) server. We use a time-domain description of the server to model transient system states and use a constrained non-linear optimization technique to dynamically allocate the server resources. The parameters of this model are continuously updated using an online monitoring and prediction framework. Our prediction technique is based on an autoregressive stochastic process model. The main goal of our techniques is to react to changing workloads by dynamically varying the resource shares of applications. In addition, these techniques can also handle nonlinearity in system behavior unlike some prior techniques. We evaluate our techniques using simulations with synthetic as well as real-world web workloads. Our results show that these techniques can judiciously allocate system resources, especially under transient overload conditions.