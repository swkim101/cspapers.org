This paper presents an effective method for planning and optimizing robot motions in joint space using via-points. The via-point formulation allows for a sparse movement representation which is inherently smooth according to a minimum jerk criterion. In this research we focus on two aspects. First, we present an initialization method to find a feasible number of via-points and their distribution in time. This initialization takes the difficulty of the planning problem into account and finds a tradeoff between representation complexity (number of via-points) and optimization time. Second, we propose a two-step optimization approach to improve the via-point parameters to satisfy constraints over the whole motion duration. We show that our methods generate feasible and smooth robot motions with a high success rate for tasks of varying complexity. The methods are evaluated in simulation using four different scenarios with two different robots, a 7-DOF robot arm and a 16-DOF humanoid upper body. Additionally, the experiments with the robot arm are shown in a real-world experiment.