Autonomous robots are artifacts that comprise a significant number of heterogeneous hardware and software components and interact with dynamic environments. Therefore, there is always a chance of faults at run-time that negatively affect the reliability of the system. In this paper we present a novel diagnosis and repair architecture for ROS-based robot systems. It is an extension to the existing ROS diagnostics stack and follows a model-based diagnosis and repair approach. In the paper we discuss the integrated diagnosis and repair architecture in detail. Moreover, we show its application to an example robot system and report first experimental results. The presented work provides three major contributions: a combination of diagnosis and repair, the integration of hardware and software, and the integration into ROS.