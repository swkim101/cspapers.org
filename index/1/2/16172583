In this paper we present the UMB-DB 3D face database. The database has been built to test algorithms and systems for 3D face analysis in uncontrolled and challenging scenarios, in particular in those cases where faces are occluded. The database is composed of 1473 pairs of depth and color images of 143 subjects. Each subject has been acquired with different facial expressions, and with the face partially occluded by various objects such as eyeglasses, hats, scarves and hands. The total number of occluded acquisitions is 578. The database, that is freely available for research purposes, could be used for various investigations, some of which are suggested in the paper. For the sake of comparison, we report the results of some of the 3D face detection and recognition algorithms in the state of the art.