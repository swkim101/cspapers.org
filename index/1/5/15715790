We consider the following taxonomy labeling problem. Each node of an n-node tree has to be labeled with the values of k attributes. A partial labeling is given as part of the input. The goal is to complete this labeling, minimizing the maximum variation in labeling along an edge. A special case of this problem (which we call the label extension problem), where every node is either completely labeled or not labeled at all, has been considered previously.
 We present an O(log2 k)-approximation algorithm based on a natural linear programming relaxation. Our results reduce the taxonomy labeling problem to another problem we introduce, called the multicut packing problem (on trees): given k multicommodity flow instances, find a multicut for each instance so as to minimize the maximum number of multicuts that use any single edge. Our algorithm yields an O(log2 k)-approximation algorithm for this more general problem. We show that the integrality gap of our relaxation is Ω(logk), even when applied to the taxonomy labeling problem with 0-1 labels.
 For the label extension problem, we considerably improve the previous O(log n) approximation guarantee and give the first constant-factor approximation algorithm for this problem. Our work relies on relating the label extension problem to questions on Lipschitz extensions of functions into Banach spaces. In particular, our approximation algorithm builds upon Matoušek's tree metrics extension theorem. Our algorithm also works for other metrics on the label-set, such as edit distance with unit-cost operations, and more generally any shortest path metric induced by an unweighted graph.