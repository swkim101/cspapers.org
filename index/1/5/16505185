To solve the rebalance problem of a full-body humanoid walking, an adaptive foot positioning compensation approach is proposed. To obtain a more precise initial policy, a constrained dynamics model is used to generate the offline policy. A heteroscedastic sparse Gaussian process is applied for online calculation of the foot positioning policy. In order to make the generated policy to adapt with the full-body dynamics, a sample-efficient MAP-like updating method for the heteroscedastic sparse Gaussian process model is also proposed. Experiments on both simulation and a real full-body humanoid are developed to show the performance of the final foot positioning policy. With the help of proposed method, the full-body humanoid robot succeeded walking down an elastic deformable platform and several obvious compensation foot steps can be observed for the robot to retrieve its balance.