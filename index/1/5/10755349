Hybrid dynamical systems with impacts typically have controls that can influence the time of the impact as well as the result of the impact. The leg angle of a hopping robot is an example of an impact control because it can influence when the impact occurs and the direction of the impulse. This paper provides a method for computing an explicit expression for the first derivative of a cost function encoding a desired trajectory. The first derivative can be used with standard optimization algorithms to find the optimal impact controls for motion planning of hybrid dynamical systems with impacts. The resulting derivation is implemented for a simplified model of a dynamic climbing robot.