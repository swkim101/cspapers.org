We introduce a flexible framework to specify problem solutions (outcomes) and preferences among them. The proposal combines ideas from answer-set programming (ASP), answer-set optimization (ASO) and CP-nets. The problem domain is structured into components. ASP techniques are used to specify values of components, as well as global (intercomponent) constraints among these values. ASO methods are used to describe preferences among the values of a component and CP-net techniques to represent intercomponent dependencies and corresponding preferences.