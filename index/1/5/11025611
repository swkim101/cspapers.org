This paper presents a variational model to compute the optical flow using image-driven functions. The intensity, gradient and smoothness have different influences on each image area. Thus, we propose the control functions that take the image as the input to tune the estimation process. We use the second moment matrix to characterize distinct image areas and embed these functions into the variational model. We also separate the gradient term and intensity term in the model. In addition, we use the coarse-to-fine strategy to deal with the large displacement in the image sequence. Experimental results show the stability of our proposed method on different image sequences.