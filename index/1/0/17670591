In highly dynamic tasks that involve moving targets, planning is necessary to figure out when, where and how to intercept the target. In robotic table tennis in particular, motion planning can be very challenging due to time constraints, dimension of the search space and modelling uncertainties. To simplify the problem, conventional planning algorithms often rely on a fixed virtual hitting plane to construct robot striking trajectories. These algorithms however generate restrictive strokes and can result in unnatural strategies when compared with human playing. In this paper, we introduce a new trajectory generation framework for robotic table tennis. We use a free-time optimal control approach to construct a novel planning algorithm that does not involve a fixed hitting plane. Furthermore, we estimate the parameters of our prediction models using human demonstrations. The resulting trajectories have lower accelerations while the joint constraints are enforced at all times. Our algorithm returns the balls with a higher probability to the opponent's court in our realistic simulation environment when compared with a virtual hitting plane based method.