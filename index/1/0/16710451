This paper presents an extension of previous model predictive control (MPC) schemes to the stabilization of the time-varying divergent component of motion (DCM). To address the control authority limitations caused by fixed footholds, the step positions and rotations are treated as control inputs, allowing the generation and execution of stable walking motions, both at high speeds and in the face of disturbances. Rotation approximations are handled by applying a mixed-integer program, which, when combined with the use of the time-varying DCM to account for the effects of height changes, improve the versatility of MPC. Simulation results of fast walking and step recovery with the ESCHER humanoid demonstrate the effectiveness of this approach.