This paper introduces a unified constraint-based test case generator for white-box method-level unit testing. The derivation of a suite of test cases can be defined as a constraint satisfaction problem. Each test case consists of a test input and an expected output. The program is automatically transformed into a constraint model called constraint logic graph. The constraint logic graph is a succinct graphical representation of the system of constraints that defines the relationships between the test inputs and actual outputs. The suite of test inputs can be solved from the conjunction of constraints on each complete path of the constraint logic graph by a constraint logic programming language. The specification of a method is defined by the Object Constraint Language. This non-executable specification is automatically transformed into an executable specification defined by a constraint logic programming language. This executable specification serves as the test oracle to automatically generate the corresponding expected output for a given test input.