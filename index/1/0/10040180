The new generation of implanted neuroprostheses allows muscles to be controlled with fine accuracy, high selectivity and the repeatability of the muscle's response can be achieved. Thus, the closed loop control of such systems becomes possible. The SUAW project succeeded in the implantation of an advanced neuroprosthetic device on two patients, but the movement generation remains open loop and is tuned empirically. Nevertheless, the good results obtained give us the opportunity to envisage the system evolves towards closed loop control and automatic synthesis of the stimulation patterns generating the desired movement. To achieve this goal, some preliminary researches have to be carried out, beginning with a specific modelling that can be used in the context of functional electrical stimulation (FES). The main issues concern muscle modelling including the interaction with the skeleton, fatigue, FES parameters as inputs, and the identification of dynamic parameters, and afterwards, the motion synthesis and the closed loop control based on this model. Besides, the scientific approach is the same as in robotics so that the theoretical tools used in the control theory are the same and directly applicable. This paper describes the results obtained in the previous project SUAW and how we attempt, through the new project DEMAR, to enhance the global performances of the system.