Software suffers from security vulnerabilities and to our best knowledge, no silver bullet exists to make all the software absolutely secure. Network software applications, e.g. network servers, due to historic reasons, often have a monolithic architecture. Therefore, the whole application stays in a single protection domain, and any vulnerability of any part would jeopardize the whole application. The principle of least privilege provides an alternative way to design and implement software with better security. uPro is a software compartmentalization tool supporting fine-grained and flexible configuration. The configuration is provided by the developers and it specifies the protection domain partition of the software application and the corresponding privilege of each partition. The configuration file is simple and extensible. Based on the configuration file, uPro loads all the protection domains to a single address space and locates all the protection domains to non-interleaved memory regions. The protection domain separation is achieved at the user level so that uPro is totally OS-neutral. uPro supports concurrent execution. The execution units and the protection domains are orthogonal and their implementation is based on threads, so the context-switch time of the execution units in uPro is lightweight compared to process implementation.