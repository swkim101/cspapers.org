Despite the long history of research in using machine learning to speed-up state-space planning, the techniques that have been developed are not yet in widespread use in practical planning systems. One limiting factor is that traditional domain-independent planning systems scale so poorly that extensive learned control knowledge is required to raise their performance to an acceptable level. Therefore, work in this area has focused on learning large numbers of control rules that are specific to the details of the underlying planning algorithms, which can be extremely costly. In recent years, a new generation of planning systems with much improved speed and scalability has become available. These systems formulate planning as solving a large constraint satisfaction problem. This formulation opens up the possibility that domain-specific control knowledge can be added to the planner in a purely declarative manner via a set of additional constraints. In this paper we present the first positive results on automatically acquiring such high-level, declarative constraints using machine learning techniques. In particular, we will show that a new heuristic method for generating training examples together with a rule induction algorithm can learn useful control rules in a variety of domains. Only a small number of rules are needed to reduce solution times by two orders of magnitude or more on larger problems, training times are short, and the learned rules can be exported to other planning systems.