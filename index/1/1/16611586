Applying humanoid robots in disaster sites requires strong locomotion abilities due to the cluttered and unstructured environment. Besides bipedal walking, it is beneficial to provide functionality to locomote on four limbs, and to control the transitions between bipedal and quadrupedal locomotion. In this paper, we propose a planning algorithm for bipedal and quadrupedal locomotion with intermediate transitions. The algorithm is based on the divergent component of motion for a linear time-variant inverted pendulum model with variable height and a flywheel. The model was validated by model comparisons in a simulation experiment. In addition, the algorithm was validated on a real robot, which realized a sequence of bipedal and quadrupedal locomotion without intermediate stops.