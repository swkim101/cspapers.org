Human societies exhibit many forms of cultural diversity --- in the languages that are spoken, in the opinions and values that are held, and in many other dimensions. An active body of research in the mathematical social sciences has developed models for reasoning about the origins of this diversity, and about how it evolves over time.
 One of the fundamental principles driving cultural diversity is the tension between two forces: influence and selection. Influencerefers to the tendency of people to become similar to those with whom they interact, whereas selection is the tendency of people to interact with those who are already more similar to them, and/or to be more receptive to influence from those who are similar. Both of these forces lead toward outcomes in which people end up interacting with others like themselves, but in different ways: influence tends to promote homogeneity, as people shift their behaviors to become alike, while selection tends to promote fragmentation, in which a society can split into multiple groups that have less and less interaction with each other. Research that offers qualitative analyses for issues such as consensus-building, political polarization, or social stratification can often be interpreted through the lens of this influence-selection tradeoff.
 In order to study the joint effects of influence and selection more formally, we analyze a natural model built upon active lines of work in political opinion formation, cultural diversity, and language evolution. Our model posits an arbitrary graph structure describing which "types" of people can influence one another: this captures effects based on the fact that people are only influenced by sufficiently similar interaction partners. A continuum of individuals occupies the nodes of the graph, representing the division of types (such as opinions or languages) among a large population. Individuals, based on their interactions with others, can move between types in the graph. In a generalization of the model, we introduce another graph structure describing which types of people even so much as come in contact with each other. These restrictions on interaction patterns can significantly alter the dynamics of the process at the population level.
 For the basic version of the model, in which all individuals come in contact with all others, we achieve an essentially complete characterization of (stable) equilibrium outcomes and prove convergence from all starting states: the main theorem states that stable equilibria are exactly those states in which the set of types with non-empty populations is an independent set. For the other extreme case, in which individuals only come in contact with others who have the potential to influence them, the underlying process is significantly more complicated; nevertheless, we achieve an analysis for certain graph structures.