Web service composition is used as subprocess in the workflow system. If the workflow can provide high reliability and constituency through transaction process technology, the composition of Web service and workflow will be the main solution to solve problem of e-business. Traditional transaction model lacks support for long-running transaction in application of Web service. From the angel of the tier relation between Web service composition and separated Web service that is part of Web service composition, a transaction model based on precontract and semantics encapsulation is presented to improve the efficiency of Web service-based transaction process.