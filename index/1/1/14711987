In the 2nd International Unmanned Aerial Vehicle (UAV) Innovation Grand Prix (UAVGP) sponsored by Aviation Industry Corporation of China (AVIC), an autonomous barrel transportation mission was proposed for Rotary-wing UAV (RUAV) which aims at validating the feasibility of marine vertical replenishment by RUAVs. The RUAV was supposed to track the movable platform, pick up barrels on the supplier platform, stack barrels on the replenishment platform, take off and land autonomously without any human interference. The final score was determined based on the mission completion time and the stacking accuracy. The main challenges involved in this mission include attitude stabilizing with varying payload, accurate movable platform tracking and task-scheduling. An unmanned helicopter (UH) automatic barrels transportation system was established by our team, and the navigation system, control system and task scheduling system will be detailed in this paper, along with the flight tests before and in the competition. The system's performance has been verified in the competition and won the first prize finally.