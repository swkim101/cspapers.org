In this contribution, we propose a two-level hierarchical control strategy to solve the problem of minimising a cost function for a switched affine system under safety and liveness constraints. The constraints are handled on the lower level by a discrete supervisory controller designed using l-complete approximation. Its action can be represented as state invariants added to the plant model. In a bottom-up strategy, we can then synthesis a high-level controller, which computes a set of switching tables using the remaining degrees of freedom to optimise a quadratic performance index