This paper presents a general, mathematically rigorous approach to nonlinear planning that handles both complex goals and actions with context-dependent effects. A goal can be any arbitrary well-formed formula containing conjunctions, disjunctions, negations, and quantifiers. Actions are likewise not constrained and can have an unrestricted number of complex, situation-dependent effects. The approach presented here can thus be used to solve a wider range of problems than previous approaches to nonlinear planning. The approach is based on previous work by the author on linear planning. The same mathematical framework is used with the results extended to nonlinear plans.