An advanced sonar sensor produces accurate range and bearing measurements, classifies targets and rejects interference with one sensing cycle. Two advanced sonar systems are used to simultaneously localise and map an indoor environment using a mobile robot. This paper presents the approach and results from on-the-fly map building using a Kalman filter and a new odometry error model that incorporates variations in effective wheel separation and angle measurements. This model is suited to pneumatic tyre odometry errors where the wheel separation has been found to vary unpredictably with floor surface and path curvature. The paper also presents techniques for detecting sonar feature clutter and selecting strong candidates for ultrasonic landmarks. The paper illustrates that sonar SLAM data association problems are significantly simplified when advanced sonar sensors are employed compared to Polaroid ranging modules.