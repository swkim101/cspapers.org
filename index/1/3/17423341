We present a control algorithm for autonomous underwater robots with modular thruster configuration. The algorithm can handle arbitrary thruster configurations. It maintains the robot's desired attitude while solving for translational motion. The attitude can be arbitrarily chosen from the special orthogonal group SO3 allowing the robot all possible orientations. The desired translational velocities can be chosen from R3 allowing the robot to follow arbitrary trajectories underwater. If the robot is not fully holonomic then the controller chooses the closest possible solution using least squares and outputs the error vector. We verify the controller with experiments using our autonomous underwater robot AMOUR. We achieve roll errors of 1.0 degree (2.1 degrees standard deviation) and pitch errors of 1.5 degrees (1.8 degrees standard deviation). We also demonstrate experimentally that the controller can handle both nonholonomic and fully holonomic thruster configurations of the robot. In the later case we show how depth can be maintained while performing 360 degree rolls. Further, we demonstrate an input device that allows a user to control the robot's attitude while moving along a desired trajectory.