Given a set of linear equations Mx=b, we say that a set of integers S is (M,b)-free if it contains no solution to this system of equations. Motivated by questions related to testing linear-invariant properties of boolean functions, as well as recent investigations in additive number theory, the following conjecture was raised (implicitly) by Green and by Bhattacharyya, Chen, Sudan and Xie: we say that a set of integers S ⊆ [n], is ε-far from being (M,b)-free if one needs to remove at least ε n elements from S in order to make it (M,b)-free. The above conjecture states that for any system of homogenous linear equations Mx=0 and for any ε >0 there is a constant time algorithm that can distinguish with high probability between sets of integers that are (M,0)-free from sets that are ε-far from being (M,0)-free. Or in other words, that for any M there is an efficient testing algorithm for the property of being (M,0)-free. In this paper we confirm the above conjecture by showing that such a testing algorithm exists even for non-homogenous linear equations. As opposed to most results on testing boolean functions, which rely on algebraic and analytic arguments, our proof relies on results from extremal hypergraph theory, such as the recent removal lemmas of Gowers, Rodl et al. and Austin and Tao.