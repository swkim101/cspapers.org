The magnetic field that exists in an indoor environment includes rich magnetic fluctuations because buildings contain many magnetized materials (e.g., steel frames). These fluctuations can be used as landmarks, the use of which requires the creation of a magnetic map representing the distribution of the magnetic field. It is, however, difficult to build a large-scale magnetic map because of the narrow measurement range of a magnetic sensor. This paper proposes an efficient method for collecting magnetic data using a mobile robot and a method for building a magnetic map using Gaussian processes. The use of these methods make it possible to build a large-scale magnetic map efficiently. Moreover, this paper presents a particle filter-based localization method based on the magnetic map. The presented system enables a robot to identify its own position in large-scale buildings. Experiments are used to demonstrate the performance and usefulness of the presented system.