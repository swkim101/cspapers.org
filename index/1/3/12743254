This paper describes a system for using efficiency knowledge in program synthesis. The system, called LIBRA, uses a combination of Knowledge-based rules and algebraic cost estimates to compare potential program implementations. Efficiency' Knowledge is used to control the selection of algorithm and data structure implementations and the application of optimizing transformations. Prototypes of programming constructs and of cost estimation techniques are used to simplify the efficiency analysis process and to assist in the acquisition of efficiency Knowledge associatod with new coding Knowledge. LIBRA has been used to guide the selection of implementations for several programs that classify, retrieve information, sort, and generate prime numbers.