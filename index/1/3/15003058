When autonomous robots are deployed in an industrial setting they are expected to work 24 hours a day, 7 days a week. Therefore, dependability of the robots is crucial. In this paper we present an approach following the model-driven engineering idea that supports dependability in different stages of the live cycle of robots. In particular we present how model-based testing and diagnosis can be used for this goal and how suitable models for these approaches can be obtained. The proposed approach was evaluated in a real industrial use-case showing superior performance compared to the hand-coded solutions used before.