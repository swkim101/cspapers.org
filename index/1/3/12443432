We propose a grid-based GSM positioning algorithm that can be deployed entirely on mobile devices. The algorithm uses Gaussian distributions to model signal intensity variations within each grid cell. Position estimates are calculated by combining a probabilistic centroid algorithm with particle filtering. In addition to presenting the positioning algorithm, we describe methods that can be used to create, update and maintain radio maps on a mobile device. We have implemented the positioning algorithm on Nokia S60 and Nokia N900 devices and we evaluate the algorithm using a combination of offline and real world tests. The results indicate that the accuracy of our method is comparable to state-of-the-art methods, while at the same time having significantly smaller storage requirements.