We consider the optimization of revenue in advertising auctions based on the generalized second-price (GSP) paradigm, which has become a de facto standard. We examine several different GSP variants (including squashing and different types of reserve prices), and consider how to set their parameters optimally. One intriguing finding is that charging each advertiser the same per-click reserve price ("unweighted reserve prices") yields dramatically more revenue than the quality-weighted reserve prices that have become common practice. This result is robust, arising both from theoretical analysis and from two different kinds of computational experiments. We also identify a new GSP variant that is revenue optimal in restricted settings. Finally, we study how squashing and reserve prices interact, and how equilibrium selection affects the revenue of GSP when features such as reserves or squashing are applied.