The captured data must be adapted for the humanoid because its kinematics and dynamic differ from those of the human actor. The kinematics constraints such as ground contact conditions are crucial for humanoid locomotion. Furthermore, it is desirable that the humanoid motion have of high similarity with those of the human actor. In this paper, first the similarity function of the humanoid motion is proposed. Then, the kinematics constrains including ground contact conditions are formulated, and the algorithm to derive the humanoid motion with a high similarity and satisfying kinematics constraints is present. Finally, the effectiveness is confirmed by the experiment of Chinese Kungfu "Taiji" using our developed 33 DOF humanoid robot.