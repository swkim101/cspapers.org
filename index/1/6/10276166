In order to study a possibility of superfluidity in trapped atomic Fermi gases loaded on optical lattices, we implement an exact diagonalization code for the trapped Hubbard model on the Earth Simulator. Comparing two diagonalization algorithms, we find that the performance of the preconditioned conjugate gradient (PCG) method is 1.5 times superior to the conventional Lanczos one since the PCG method can conceal the communication overhead much more efficiently. Consequently, the PCG method shows 16.447 TFlops (50.2% of the peak) on 512 nodes. On the other hand, we succeed in solving a 159-billion-dimensional matrix by using the conventional Lanczos method. To our knowledge, this dimension is a world-record. Numerical results reveal that an unconventional type of superfluidity specific to the confined system develops under repulsive interaction.