Managing features that have fine-grained impact on base programs is a challenging task in software product line development. Despite well-known problems, preprocessing (e.g., cpp) is often used to handle features by including/excluding variant code to/from a base program. In this paper, we show how some of common preprocessing problems can be alleviated with a query-based environment that assists programmers in feature analysis. We discuss limitations of our solution and reasons why they are difficult to lift in the frame of preprocessors.