This paper considers the computation of a hybrid automaton that models the behaviour of a switching linear physical system using energy considerations. The system is represented in a compositional way with bond graphs that include switches. In a first step the switches are considered from a functional point of view. This allows to determine the locations that are associated to consistent configuration of switches, the continuous activities and the jumps. In a second step elementary models of switches are introduced and allow to determine the invariants and the guards of transitions. The approach is exemplified with a simple electronics circuit