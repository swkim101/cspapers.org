Many Internet failures are caused by misconﬁgurations of the BGP routers that manage rout-ing of traffic between domains. The problems are usually due to a combination of human er-rors and the lack of a high-level language for specifying routing policies that can be used to generate router conﬁgurations. We describe an implemented approach that uses a declarative language for specifying network-wide routing policies to automatically conﬁgure routers and show how it can also be used by software agents to diagnose and correct some networking problems