We consider the problem of minimizing weighted flow time on a single machine in the preemptive setting. Our main result is an O(log W) competitive online algorithm where the maximum to the minimum ratio of weights is W. More generally our algorithm achieves a competitive ratio of k if there are k weight classes. This gives the first O(1)-competitive algorithm for constant k. No O(1) competitive algorithm was known previously even for the special case of k = 2. These results settle a question posed by Chekuri et al [5] about the existence of a "truly" online algorithm with a non-trivial competitive ratio. We also give a "semi-online" algorithm with competitive ratio O(log n + log P), where P is ratio of the maximum to minimum job size. Our second result deals with the non-clairvoyant setting where the job sizes are unknown (but the weight of the jobs are known). We consider the resource augmentation model, and give a non-clairvoyant online algorithm, which if allowed a (1 + ε) speed-up, is (1 + l/ε) competitive against an optimal offline, clairvoyant algorithm.