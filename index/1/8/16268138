This paper presents a trajectory generator for humanoid robots that can simultaneously consider 3D position tracking of the center-of-mass (COM), reactive stepping (foot positions are non-constant), zero-moment-point (ZMP) constraints as well as position constraints. The variable COM height leads to nonlinear ZMP constraints. This work demonstrates that depending on how strict the constraints are, it is possible to generate 1.6 second long trajectories in less than 5 ms on a 3.4 Ghz CPU. This is done by expressing the problem as a quadratically constrained quadratic program (QCQP) and solving it via sequential quadratic programming (SQP). Computation time is improved by providing the analytical derivatives of all constraints. In particular the nonlinear ZMP constraint is expressed in a quadratic form and its derivative is provided.