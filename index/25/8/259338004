Bundle adjustment (BA) is a well-studied fundamental problem in the robotics and vision community. In man-made environments, coplanar points and lines are ubiquitous. However, the number of works on bundle adjustment with coplanar points and lines is relatively small. This paper focuses on this special BA problem, referred to as $\pi-\mathbf{BA}$. For a point or a line on a plane, we derive a new constraint to describe the relationship among two poses and the plane, called $\pi$-constraint. We distribute $\pi$-constraints into different groups. Each group is called a $\pi$-factor. We prove that, with some simple preprocessing, the computational complexity associated with a $\pi$-factor in the Levenberg-Marquardt (LM) algorithm is $O(1)$, independent of the number of $\pi$-constraints packed into the $\pi$-factor. In $\pi-\mathbf{BA}, \pi$-factors replace original reprojection errors. One problem is how to divide $\pi$-constraints into $\pi$-factors. Different strategies may result in different numbers of $\pi$-factors, which in turn affects the efficiency. It is difficult to get the optimal division. We present a greedy algorithm to overcome this problem. Experimental results verify that our algorithm can significantly accelerate the computation.