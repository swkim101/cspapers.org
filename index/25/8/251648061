To solve the imbalanced classiﬁcation, methods of weighting examples have been proposed. Recent work has studied to assign adaptive weights to training examples through learning mechanisms. Speciﬁcally, similar to classiﬁcation models, the weights are regarded as parameters that need to be learned. However, the algorithms in recent work use local information to approximately optimize the weights, which may lead to inaccurate learning of the weights. In this work, we ﬁrst propose a novel mechanism of learning with a constraint, which can accurately train the weights and model. Then, we propose a combined method of our learning mechanism and the existing work, which can promote each other to perform better. Our method can be applied to any type of deep network model. Experiments show that compared with state-of-the-art algorithms, our method has signiﬁcant improvement in varieties of settings, including text and image classiﬁ-cation over different imbalance ratios, binary and multi-class classiﬁcation.