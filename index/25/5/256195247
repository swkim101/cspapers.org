Precise estimation of heading, which is a key component of pedestrian dead reckoning for indoor positioning methods, is needed. We propose a new method that improves the accuracy of the heading estimation by processing data at a resolution finer than one step. First, the sensor data are divided into segments finer than a step by using the norm of the acceleration vectors. Then, features to predict the heading are automatically extracted from the segments by using a neural network based on long short term memory, instead of using the statistics of steps as features as is done conventionally. Our method is more accurate than the conventional one for walking in straight lines and walking on curved trajectories.