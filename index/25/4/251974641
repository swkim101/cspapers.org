This paper describes the algorithm, implementation, and deployment experience of CacheSack, the admission algorithm for Google datacenter ﬂash caches. CacheSack minimizes the dominant costs of Google’s datacenter ﬂash caches: disk IO and ﬂash footprint. CacheSack partitions cache trafﬁc into disjoint categories, analyzes the observed cache beneﬁt of each subset, and formulates a knapsack problem to assign the optimal admission policy to each subset. Prior to this work, Google datacenter ﬂash cache admission policies were optimized manually, with most caches using the Lazy Adaptive Replacement Cache (LARC) algorithm. Production experiments showed that CacheSack signiﬁcantly outperforms the prior static admission policies for a 6.5% improvement of the total operational cost, as well as signiﬁcant improvements in disk reads and ﬂash wearout.