Cloud platforms today make efﬁcient use of storage resources by slicing them among multi-tenant applications on demand. However,ourstudydiscloses thatcloudstorage is stillseriously underutilized for both allocated and unallocated storage. Although cloud providers have developed harvesting techniques toallowevictablevirtualmachines(VMs)touseunallocatedre-sources, these techniques cannot be directly applied to storage resources,due to the lack of systematic support forthe isolation of space, bandwidth, and data security in storage devices. In this paper, we present BlockFlex, a learning-based storage harvesting framework, which can harvest available ﬂash-based storage resources at a ﬁne-grained granularity in modern cloud platforms. We rethink the abstractions of storage virtualization and enable transparent harvesting of both allocated and unallocated storage for evictable VMs. BlockFlex explores both heuristics and learning-based approaches to maximize the storage utilization, while ensuring the performance and security isolation between regular and evictable VMs at the storage device level. We develop BlockFlex with programmable solid-state drives (SSDs) and demonstrate its efﬁciency with various datacenter workloads.