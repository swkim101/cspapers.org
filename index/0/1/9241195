The objective of this paper is to present a strategy to safely move a robot in an unknown and complex environment where people are moving and interacting. The robot, by using only its sensor data, must navigate respecting humans' comfort. To obtain good results in such a dynamic environment, a prediction on humans' movement is also crucial. To solve all the aforementioned problems we introduce a suitable cost function. Its optimization is obtained by using a new stochastic and adaptive optimization algorithm (CAO). This method is very useful in particular when the analytical expression of the optimization function is unknown but numerical values are available for any state configuration. Additionally, the proposed method can easily incorporate any dynamical and environmental constraints. To validate the performance of the proposed solution, several simulation results are provided.