We study the effect of soft (i.e. compliant) soles in humanoid walking. Adding compliance at the foot sole is important for shock absorption during touchdown and to better cast the ground roughness. But, subsequent deformation needs to be considered in the attitude stabilization. We propose a sole deformation estimator used in the controller design, to ensure that the desired ZMP for stability requirement is fulfilled. We performed two comparison experiments on the HRP-4 humanoid robot with/without the estimator. Experiments showed how the estimator enhances the ZMP stabilization during walking and prevents the robot from falling down.