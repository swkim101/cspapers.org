Location information is an important source of context for ubiquitous computing systems. This paper looks at how a foot-mounted inertial unit, a detailed building model, and a particle filter can be combined to provide absolute positioning, despite the presence of drift in the inertial unit and without knowledge of the user's initial location. We show how to handle multiple floors and stairways, how to handle symmetry in the environment, and how to initialise the localisation algorithm using WiFi signal strength to reduce initial complexity.
 We evaluate the entire system experimentally, using an independent tracking system for ground truth. Our results show that we can track a user throughout a 8725 m2 building spanning three floors to within 0.5m 75% of the time, and to within 0.73 m 95% of the time.