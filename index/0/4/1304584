In this paper we describe the navigation and planning of the i-Fork system, a flexible AGV intended to operate in partially structured warehouses where frequent floor plant layout modifications occur. This is achieved by using a combination of topological and grid maps in such a way that the operator work in layout modification procedures is greatly reduced. The system is currently working in an agricultural company with great success.