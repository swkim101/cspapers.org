The most classical solution to generate whole-body motions on humanoid robots is to use the inverse kinematics on a set of tasks. It enables flexibility, repeatability, sensor-feedback if needed, and can be applied in real time onboard the robot. However, it cannot comprehend the whole complexity of the robot dynamics. Inverse dynamics is then a mandatory evolution. Before application as a generic motion generator, two important concerns need to be solved. First, when including in the motion-generation problem the forces and torques variables, the numerical conditioning can become very low, inducing undesired behaviors or even divergence. Second, the computational costs of the problem resolution is much more important than when considering the kinematics alone. This paper proposes a complete reformulation of the inverse-dynamics problem, by cutting the ill-conditioned part of the problem, solving in a same way the problem of numerical stability and of cost reduction. The approach is validated by a set of dynamic whole-body movements of the HRP-2 robot.