This paper presents the design, implementation and evaluation of a system called D端ppel that enables a tenant virtual machine to defend itself from cache-based side-channel attacks in public clouds. D端ppel includes defenses for time-shared caches such as per-core L1 and L2 caches. Experiments in the lab and on public clouds show that D端ppel effectively obfuscates timing signals available to an attacker VM via these caches and incurs modest performance overheads (at most 7% and usually much less) in the common case of no side-channel attacks. Moreover, D端ppel requires no changes to hypervisors or support from cloud operators.