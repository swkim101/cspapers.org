Social networks allow users getting personalized recommendations for interesting resources like websites or scientific papers by using reviews of users they trust. Search engines rank documents by using the reference structure to compute a visibility for each document with reference structure-based functions like PageRank. Personalized document visibilities can be computed by integrating both approaches. We present a framework for incorporating the information from both networks, and ranking algorithms using this information for personalized recommendations. Because the computation of document visibilities is costly and therefore cannot be done in runtime, i.e., when a user searches a document repository, we pay special attention to develop algorithms providing an efficient calculation of personalized visibilities at query time based on precalculated global visibilities. The presented ranking algorithms are evaluated by a simulation study.