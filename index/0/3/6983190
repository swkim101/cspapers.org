System energy models are important for energy optimization and management in mobile systems. However, existing system energy models are built in a lab setting with the help from a second computer. Not only are they labor-intensive; but also they do not adequately account for the great diversity in the hardware and usage of mobile systems. Moreover, existing system energy models are intended for energy estimation for time intervals of one second or longer; they do not provide the required rate for fine-grain use such as per-application energy accounting.
 In this work, we study a self-modeling paradigm in which a mobile system automatically generates its energy model without any external assistance. Our solution, Sesame, leverages the possibility of self power measurement through the smart battery interface and employs a suite of novel techniques to achieve accuracy and rate much higher than that of the smart battery interface.
 We report the implementation and evaluation of Sesame on a laptop and a smartphone. The experiment results show that Sesame is able to generate system energy models of 95% accuracy at one estimation per second and of 88% accuracy at one estimation per 10ms, without any external assistance. Two five-day field studies with four laptop and four smartphone users further demonstrate the effectiveness, efficiency, and non-invasiveness of Sesame.