This paper presents a probabilistic algorithm for lane shape estimation in an urban environment which is important for example for driver assistance systems and autonomous driving. For the first time, we bring together the so-called Partitioned Particle filter, an improvement of the traditional Particle filter, and the linear-parabolic lane model which alleviates many shortcomings of traditional lane models. The former improves the traditional Particle filter by subdividing the whole state space of particles into several subspaces and estimating those subspaces in a hierarchical structure, such that the number of particles for each subspace is flexible and the robustness of the whole system is increased. Furthermore, we introduce a new statistical observation model, an important part of the Particle filter, where we use multi-kernel density to model the probability distribution of lane parameters. Our observation model considers not only color and position information as image cues, but also the image gradient. Our experimental results illustrate the robustness and efficiency of our algorithm even when confronted with challenging scenes.