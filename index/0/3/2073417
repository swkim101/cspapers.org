Let <i>T</i> = <i>t</i><sub>0</sub> … <i>t<sub>n-1</sub></i> be a text and <i>P</i> = <i>p</i><sub>0</sub> … <i>p<sub>m-1</sub></i> a pattern taken from some finite alphabet set Σ, and let <b>d</b> be a metric on Σ. We consider the problem of calculating the sum of distances between the symbols of <i>P</i> and the symbols of substrings of <i>T</i> of length <i>m</i> for all possible offsets. We present an ε-approximation algorithm for this problem which runs in time <i>O</i>(1/ε<sup>2</sup><i>n</i> · polylog(<i>n</i>, |Σ|)). This algorithm is based on a low distortion embedding of metric spaces into normed spaces (especially, into ℓ<sub>∞</sub>), which is done as a preprocessing stage. The algorithm is also based on a technique of sampling.