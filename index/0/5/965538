Stratified type inference for generalized algebraic data types.