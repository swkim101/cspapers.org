Companies that maintain web sites can make considerable revenue through advertising, and consequently attracting advertisers has become an important and competitive endeavor. A property that can attract advertisers is high clickthrough rates; and therefore companies can bene t from delivery systems that serve advertisements selectively to those visitors most likely to click. In order to satisfy contractual obligations, however, these systems must simultaneously perform inventory management. For example, if a company has agreed to serve a certain number of a particular advertisement, it must do so regardless of how likely it is to be clicked. In this paper, we describe how to use a linear program to identify a schedule, based on known attributes of each visitor, that maximizes the expected number of clicks given all of the inventory-management constraints. We present experimental results using real data that demonstrate that a delivery schedule from our system realizes more clicks than a schedule that was hand constructed.