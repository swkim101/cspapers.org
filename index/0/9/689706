This paper addresses the distributed formation trajectory planning for a group of nonholonomic vehicles. This is realized with a decentralized Model Predictive Control under dynamic virtual structure architecture. A specific limitation of virtual structure based formation method is the necessity of access to the desired reference. To remove this requirement, a distributed estimator is developed so that each vehicle can construct the desired reference based on the local information exchange. In formation trajectory planning, several issues are taken into consideration which includes: (i) distributed formation achievement by a team of nonholonomic vehicles from initial situation. (ii) inter-group collision avoidance. (iii) dynamic formation to obtain flexible manoeuvring during movement in unknown and cluttered environment. (iv) obstacle avoidance. Finally, simulation results are presented to illustrate the performance of the proposed methodology in producing optimal formation trajectory planning for multiple nonholonomic vehicles.