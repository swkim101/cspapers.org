This work extends the declarative sensornet programming model with automated program optimizations that attempt to minimize energy expenditure at various points in the communication stack.