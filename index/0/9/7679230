An integrated framework mainly focusing on stereo matching has been presented in this paper to obtain dense depth maps for a mobile robot that is equipped with a novel omnidirectional stereo vision sensor that is designed to obtain height information. The vision sensor is composed of a common perspective camera and two hyperbolic mirrors, which are separately fixed inside a glass cylinder. As the separation between the two mirrors provides much enlarged baseline, the precision of the system has improved correspondingly. Nevertheless, the large disparity space and image particularities that are different from general stereo vision system result in poor performance using common methods. To satisfy the reliability requirement by mobile robot navigation, we use improved graph cuts method, in which more appropriate three-variable smootheness model is proposed for general priors corresponding to more reasonable piecewise smoothness assumption since the well-known swap move algorithm can be applied to a wider class of functions. We also show the necessary modification to handle panoramic images, including deformed matching template, adaptable template scale. Experiment shows that this proposed vision system is feasible as a practical stereo sensor for accurate depth map generation.