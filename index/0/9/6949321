In the standard balls-and-bins model of balanced allocations, <i>m</i> balls are placed sequentially into <i>n</i> bins. Each ball chooses <i>d</i> uniform-random bins and is placed in the least loaded bin. It is well known that when <i>d</i> = logΘ<sup>(1)</sup> <i>n</i>, after placing <i>m</i> = <i>n</i> balls, the maximum load (number of balls in a bin) is Θ(1) w.h.p.
 In this paper we show that as long as <i>d</i> = Ω(log n), independent random choices are not necessary to achieve a constant load balance: these choices may be structured in a very general way. Specifically, we allow each ball <i>i</i> to have an associated random set of bins <i>B<sub>i</sub></i>. We require that [<i>B<sub>i</sub></i>] = Ω(log <i>n</i>) and that bins are included in <i>B<sub>i</sub></i> with approximately the same probability; but the distributions of the <i>B<sub>i</sub>s</i> are otherwise arbitrary, so that there may be correlations in the choice of bins. We show that this model captures structure important to two applications, nearby server selection and load balance in distributed hash tables.