We consider a program schema that models straight line intermediate level code. A complete set of equivalence preserving transformations on programs is found for the case in which programs are equivalent if and only if their output functions are identical. This result is extended to the case in which programs are deemed equivalent if their output functions can be shown equivalent under a fixed set of algebraic laws. It is also shown that in the no algebra case and in cases where certain types of algebraic identities are allowed the problem of finding optimal code under a reasonable cost function can be reduced to finding a desired sequence of topological and algebraic transformations on programs.