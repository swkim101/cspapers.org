A planner in the real world must be able to handle uncertainty. It must be able to reason about the effect of uncertainty on its plans, select plans that avoid uncertain outcomes when possible, and make contingency plans against different possible outcomes when uncertainty cannot be avoided. We have constructed such a planner, Cassandra, which has these properties Using Cassandra, we have produced the Ant general solution to the keys and boxes challenge problem proposed by Michie over twenty years ago.