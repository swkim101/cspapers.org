Minimally invasive surgical techniques are becoming popular due to their enhanced patient benefits. Less invasive procedures can be achieved with the use of wireless Medical Capsule Robots (MCRs). MCRs are low powered and small in size and can be used for physiological parameter monitoring, therapy delivery, and biopsy sampling. Designing MCRs from the ground up is a costly and time consuming process. In this work, we present a flexible modular architecture to facilitate the design of MCRs and propose using TinyOS as the operating system. To assess the architecture and validate the feasibility of TinyOS, we implement a closed-loop control of a sensor-actuator system and compare the results with a traditional MCR built based on an 8051 microcontroller (MCU) programmed in plain C. Similar performances from the two approaches lead us to conclude that TinyOS is a valid option to implement a modular architecture for designing MCRs.