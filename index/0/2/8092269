We present a real time method for updating a 3D map with dynamic obstacles detection. Moving obstacles are detected through ray-casting on spherical voxelization of point clouds. We evaluate the accuracy of this method on a point cloud dataset, suitably constructed for testing ray-surface intersection under relative motion conditions. Moreover, we show the benefits of the map updating in a real robot equipped with a rotating LIDAR system, navigating in real world scenarios, populated by moving people.