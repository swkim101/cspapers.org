This paper presents an algorithm for task allocation in groups of homogeneous robots. The algorithm is based on vacancy chains, a resource distribution strategy common in human and animal societies. We define a class of task-allocation problems for which the vacancy chain algorithm is suitable and demonstrate how reinforcement learning can be used to make vacancy chains emerge in a group of behavior-based robots. Experiments in simulation show that the vacancy chain algorithm consistently outperforms random and static task allocation algorithms when individual robots are prone to distractions or breakdowns, or when task priorities change.