The first part of the talk gives an overview of the different kinds of data available at Amazon.com, emphasizing that data mining needs to drive actions such as emails, coupons, and recommendations of products, product groups, or site features. The scope of the actions ranges from the individual customer, over pre-computed customer segments, to the entire customer base. The second part presents joint work with Bruce D'Ambrosio (Cleverset, Inc.) on probabilistic relational models for customer behavior, both for discovering static customer attributes, and for dynamically predicting the intention of the customer and the outcome of a session. The third part outlines current research problems, such as modeling and eventually influencing the long-term behavior of customers. In addition to the importance of machine learning, it shows the central role principles of behavioral economics, judgment and decision making play in computational marketing.