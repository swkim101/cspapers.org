Humanoid robots that need to traverse constrained and uncertain environments require a suitable combination of perception, planning and control. This paper presents an integrated pipeline that allows the robot to autonomously acquire visual information, define step locations, compute feasible multi-contact stances using hands and feet, and generate a motion plan to reach the desired goal even going through different contact states. The execution of the desired path is guaranteed through a passivity-based multi-contact controller. The approach is evaluated in simulations and experiments in different scenarios using the humanoid robot TORO.