Recently, high-precision indoor positioning has become an important technology in the O2O (online-to-offline) services. In indoor positioning method, fingerprinting is better than trilateration in that it is possible to avoid problems that are not effectively applied to indoor wireless attenuation model. Fingerprinting compares the radio propagation condition that is measured at the time of positioning with the set of radio propagation conditions that are measured in initial training, and estimates the position according to its similarity. However, since radio waves are superimposed by the reflection of the walls and floors in the indoor environment, positioning accuracy decreases when the layout of the environment is changed after creation of the initial training data. To solve this problem, we propose a method to infer whether some obstacle exists between each pair of transmitter and receiver by principal component analysis of RSSI (Received Signal Strength Indicator) of multi-frequency, to detect LOS (Line-of-Sight)-shielded transmitters and to eliminate them from calculation for positioning. Comparing with existing method on typical fingerprinting, our method improved up to 31% on robustness.