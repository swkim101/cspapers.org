We conduct a large-scale user study to measure the energy consumption characteristics of 20,100 BlackBerry smartphone users. Our dataset is several orders of magnitude larger than any previous work. We use this dataset to build the Energy Emulation Toolkit (EET) that allows developers to evaluate the energy consumption requirements of their applications against real users' energy traces. The EET computes the successful execution rate of energy-intensive applications across all users, specific devices, and specific smartphone user types. We also consider active adaptation to energy constraints. By classifying smartphone users based on their charging characteristics we demonstrate that energy level can be predicted within 72% accuracy a full day in advance, and through an Energy Management Oracle energy intensive applications can adapt their execution to achieve a near optimal successful execution rate.