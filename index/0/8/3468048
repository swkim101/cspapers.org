As the building stock consumes 40% of the U.S. primary energy consumption, it is critically important to improve building energy efficiency. This involves reducing the total energy consumption of buildings, reducing the peak energy demand, and leveraging renewable energy sources, etc. To achieve such goals, hybrid energy supply has becoming popular, where multiple energy sources such as grid electricity, on-site fuel cell generators, solar, wind, and battery storage are scheduled together to improve energy efficiency. In this work, we focus on the application and management of battery storage for energy-efficient buildings. We will first introduce a system-level approach to co-schedule the usage of battery storage (in addition to grid electricity) with the control of building HVAC (heating, ventilation, and air conditioning) system, to reduce the total building energy cost, including the electricity consumption charge, the peak demand charge, and the battery cost. Then, in a separate formulation, we will introduce another system-level study to reduce the energy cost of EV charging and other fixed building energy load through the usage of battery storage and solar PV. Finally, we will present an ARM processor based programmable embedded battery management system (BMS), which monitors battery status, controls charging and discharging at the circuit level, and provides battery protection. The system also works with off-the-shelf battery management IC (Texas Instrument BMS sensor IC) from industry. Comparing to conventional BMS, this software module based BMS is a more suitable solution for energy efficient buildings due to its high flexibility, scalability, and reusability. We will introduce an industrial building testbed with battery storage and solar PV at the University of California, Riverside, and present initial field tests and simulation results for above approaches.