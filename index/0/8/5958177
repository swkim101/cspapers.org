In-network sensor query processing systems (ISQPs), or sensor databases, have been developed to acquire, process and aggregate data from wireless sensor networks (WSNs). Because WSNs are resource-limited and involve multiple layers of embedded software, the system design issues have a significant impact on the performance of sensor databases. Therefore, we propose this tutorial to study the state of the art on these issues with a focus on their interaction with query processing techniques. Our goal is to present the challenges and efforts in developing holistic, efficient ISQPs. Specifically, we will cover architectural design, scheduling, data-centric routing, and wireless medium access control. This tutorial is intended for database researchers who are interested in sensor networks.