This paper presents a novel optimization method for generating persistently exciting trajectories for inertial parameters identification of a robot. The exciting performance of the trajectories is usually evaluated by the condition number of the regressor matrix, which appears in the linear regression model for identification. In this paper, the efficient formulation is presented to directly compute the gradient of the condition number with respect to joint trajectory parameters, by deriving the derivative of the singular values and regressor matrices. Direct gradient computation can enhance computational performance of optimization, which is essential for large DOF systems under many physical consistent conditions such as humanoid robots. The proposed method is validated by generating several trajectories for the humanoid robot HRP-4.