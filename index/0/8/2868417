Content sharing is a popular use of peer-to-peer systems because of their inherent scalability and low cost of maintenance. In this paper, we leverage this nature of peer-topeer systems to tackle a new problem: automatic misconfiguration troubleshooting. In this setting, machine configurations from peers are shared to diagnose misconfigurations on a sick machine. The key challenges are preserving privacy of individual configuration data and ensuring the integrity of peer contributions. To this end, we construct the Friends Troubleshooting Network (FTN), a peer-to-peer overlay network, where the links between peer machines reflect the friendship of their owners. Our FTN manifests recursive trust rather than transitive trust. To achieve privacy, we use the general scheme of a historyless and futureless random-walk for routing, during which search is carried out simultaneously with secure parameter aggregation for the purpose of troubleshooting. Our design has been guided by the characteristics of a real-world friends network, the MSN Instant Messenger (IM) network. We have prototyped our FTN system and analyzed the tradeoff between privacy and protocol efficiency.