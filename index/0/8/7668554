Buildings are responsible for more than 40% of US primary energy consumption. Of that, nearly 50% goes to heating, ventilation and air-conditioning (HVAC) systems. Savings made in HVAC systems therefore have a major impact in energy consumption and are of critical importance. We present a model predictive control framework (MPC) for smart building control. The framework has several components, including (a) occupancy sensing in real time, (b) occupancy prediction models based on historical occupancy data, (c) thermodynamic building models, (d) weather forecasting data, and (e) a model predictive control optimization that tries to minimize monetary costs in energy use while maintaining quality comfort bounds for the building's users. We tested the system in a real building with over 40 workers, and we show that we could obtain monetary savings of more than 50% without sacrificing user comfort.