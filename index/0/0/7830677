In November 2008, the FCC ruled that the digital TV whitespaces be used for unlicensed access. This is an exciting development because DTV whitespaces are in the low frequency range (50-698 MHz) compared to typical cellular and ISM bands, thus resulting in much better propagation characteristics and much higher spectral efficiencies. The FCC has also mandated certain guidelines for short range unlicensed access, so as to avoid any interference to DTV receivers. We consider the problem of WiFi like access (popularly referred to as WiFi 2.0) for enterprizes. We assume that the access points and client devices are equipped with cognitive radios, i.e., they can adaptively choose the center frequency, bandwidth and ower of operation. The access points can be equipped with one or more radios. Our goal is to design a complete system, which (i) does not violate the FCC mandate, (ii) dynamically assigns center frequency and bandwidth to each access point based on their demands and (iii) squeezes the maximum efficiency from the available spectrum. This problem is far more general than prior work that investigated dynamic spectrum allocation in cellular and ISM bands, due to the non-homogenous nature of the whitespaces, i.e., different whitespace widths in different parts of the spectrum and the large range of frequency bands with different propagation characteristics. This calls for a more holistic approach to system design that also accounts for frequency dependent propagation characteristics and radio frontend characteristics. In this paper, we first propose design rules for holistic system design. We then describe an architecture derived from our design rules. Finally we propose demand based dynamic spectrum allocation algorithms with provable worst case guarantees. We provide extensive simulation results showing that (i) the performance of our algorithm is within 94% of the optimal in typical settings and (ii) and the DTV whitespaces can provide significantly higher data rates compared to the 2.4GHz ISM band. Our approach is general enough for designing any system with access to a wide range of spectrum.