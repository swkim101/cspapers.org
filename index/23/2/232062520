As the demand for the Internet of Things increases, wireless network protocols applied to the Large-Scale Internet of Things (LS-IoT) is the future development direction. Although 5G technology is a recent development trend, its signal coverage and cost will be key issues. However, the Wi-Fi protocols have many protocol-related modules that are quite mature and relatively inexpensive. And it has the advantages of low latency and high transmission efficiency. We implement Adaptive Tree Topology Algorithm in the Wi-Fi tree network system for Internet of Things data collection and make appropriate design corrections to overcome the influence of environmental factors. In the implementation and testing, it was found that multiple problems caused by environmental factors. First, signal interference in the environment will cause packet loss in the system. Cause the routing mechanism to collapse. Second, the strength of the packet signal is weakened due to obstacles. In addition, the previously designed hop selection mechanism may cause unstable data paths and increase the probability of disconnection. Third, the signal interference affects the transmission of update routing-related packets, which causes the routing data of the node and the gateway to be out of sync. In order to overcome the above-mentioned influence, we designed a Resend Queue retransmission mechanism to effectively solve packet loss, and improve the retransmission time interval to reduce the probability of packet collision due to frequent retransmissions when the interference is high. In addition to the hop selection mechanism, increase the signal strength as another routing metric to ensure the establishment of a network chain with a smaller hopping with stable signal. The maintenance mechanism is designed to update the data in real time and gather it to the gateway to provide more stable routing maintenance and eliminate routing maintenance errors. Furthermore, we implement our algorithm on CC3220MODA. After testing, we offer three objective function for this system. Confirm the feasibility of the network mechanism design in this paper, and provide setting objective functions and setting suggestions for key parameters in the system.