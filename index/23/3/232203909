DR and next query prediction (NQP) are two core tasks in session search. They are often driven by the same search intent and, hence, it is natural to jointly optimize both tasks. So far, most models proposed for jointly optimizing document reranking (DR) and NQP have focused on users’ short-term intent in an ongoing search session. Because of this limitation, these models fail to account for users’ long-term intent as captured in their historical search sessions. In contrast, we consider a personalized mechanism for learning a user’s profile from their long-term and short-term behavior to simultaneously enhance the performance of DR and NQP in an ongoing search session. We propose a personalized session search model, called Long short-term session search, Network (LostNet), that jointly learns to rerank documents for the current query and predict the next query. LostNet consists of three modules: The hierarchical session-based attention mechanism tracks the fine-grained short-term intent in an ongoing session. The personalized multi-hop memory network tracks a user’s dynamic profile information from their prior search sessions so as to infer their personal search intent. Jointly learning of DR and NQP is aimed at simultaneously reranking documents and predicting the next query based on outputs from the above two modules. We conduct experiments on two large-scale session search benchmark datasets. The results show that LostNet achieves significant improvements over state-of-the-art baselines.