In the computer world, virtualization technology has immersed into the IT world of all levels. The use of the virtual machine increases the utilization rate of physical host resources greatly increased, but how to ensure the high-efficiency and reliable operation of the virtual machine remains an open problem. There are some problems in virtual machine deployment scheme, such as the consumption of network resources costs too much when machine migration occurs, the requirements of shared storage needed by virtualization and so on. In this paper, in order to solve the above mentioned problems a high availability mechanism of virtual machine will be put forward based on the study of open source projects Ceph.