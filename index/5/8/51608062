We present a prototype wearable device able to perform online and long-term monitoring of ECG signals, and detect anomalous heartbeats such as arrhythmias. Our solution is based on user-specific dictionaries which characterizes the morphology of normal heartbeats and are learned every time the device is positioned. Anomalies are detected via an optimized sparse coding procedure, which assesses the conformance of each heartbeat to the user-specific dictionary. The dictionaries are adapted during online monitoring, to track heart rate variations occurring during everyday activities. Perhaps surprisingly, dictionary adaptation can be successfully performed by transformations that are user-independent and learned from large datasets of ECG signals.