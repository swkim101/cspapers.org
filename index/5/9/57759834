Let $F_k$ be the set of graphs on $k$ vertices. For a graph $G$, a $k$-decomposition is a set of induced subgraphs of $G$, each isomorphic to an element of $F_k$, such that each pair of vertices of $G$ is in exactly one element of the set. A fundamental result of Wilson is that for all $n=|V(G)|$ sufficiently large, $G$ has a $k$-decomposition if and only if $G$ is $k$-divisible. 
Let ${\bf v} \in {\mathbb R}^{|F_k|}$ be indexed by $F_k$. For a $k$-decomposition $L$ of $G$, let $\nu_{\bf v}(L) = \sum_{F \in F_k} {\bf v}_F d_{L,F}$ where $d_{L,F}$ is the fraction of elements of $L$ isomorphic to $F$. Let $\nu_{\bf v}(G) = \max_{L} \nu_{\bf v}(L)$ and $\nu_{\bf v}(n)=\min\{\nu_{\bf v}(G):|V(G)|=n\}$. It is not difficult to prove that the sequence $\nu_{\bf v}(n)$ has a limit so let $\nu_{\bf v} = \lim_{n \rightarrow \infty} \nu_{\bf v}(n)$. Replacing $k$-decompositions with their fractional relaxations, one obtains the (polynomial time computable) fractional analogue $\nu_{\bf v}^*(G)$ and corresponding fractional values $\nu^*_{\bf v}(n)$ and $\nu^*_{\bf v}$. Our first main result is that for each ${\bf v} \in {\mathbb R}^{|F_k|}$ $$ \nu_{\bf v} = \nu^*_{\bf v}\;. $$ Further, there is a polynomial time algorithm that produces a decomposition $L$ of a $k$-decomposable graph such that $\nu_{\bf v}(L) \ge \nu_{\bf v} - o_n(1)$. 
A similar result holds when $F_k$ is the family of all tournaments on $k$ vertices and when $F_k$ is the family of all edge-colorings of $K_k$. 
We use these results to obtain new and improved bounds on several decomposition results. For example, we prove that every $n$-vertex tournament which is $3$-divisible has a triangle decomposition in which the number of directed triangles is less than $0.0222n^2(1+o(1))$ and that every $5$-decomposable $n$-vertex graph has a $5$-decomposition in which the fraction of cycles of length $5$ is $o_n(1)$.