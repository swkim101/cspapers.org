An accurate knowledge of the photon spectra emitted by X-ray tubes in radiodiagnostic is essential to better estimate the imparted dose to patients and to improve the quality image obtained with these devices. In this work, it is proposed the use of a flat panel detector together with a PMMA wedge to estimate the actual X-ray spectrum using the Monte Carlo method and unfolding techniques. The MCNP5 code has been used to model different flat panels (based on indirect and direct methods to produce charge carriers from absorbed X-rays) and to obtain the dose curves and system response functions. Most of the actual flat panel devices use scintillator materials that present K-edge discontinuities in the mass energy-absorption coefficient, which strongly affect the response matrix. In this paper, the applicability of different flat panels for reconstructing X-ray spectra is studied. The effect of the mass energy-absorption coefficient of the scintillator material has been studied on the response matrix and consequently, in the reconstructed spectra. Different unfolding methods are tested to reconstruct the actual X-ray spectrum knowing the dose curve and the response function. It has been concluded that the regularization method MTSVD is appropriate to unfold X-ray spectra in all the scintillators studied.