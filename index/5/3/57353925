In view of the increasingly serious software protection problem, the software protection technology based on code obfuscation is analyzed and researched, and a new software protection system, maze protection is designed and realized. With the principle of maze encryption, this program insert a large number of the complex judgments code between function entry and exit, which change the execution order, enhancing the ability of software protection. On this basis, Anti-debug techniques incorporated into the maze protection, which against the mainstream anti-debugger, increasing the advantage of high anti-reversing, tamper-proof and anti-cracking. Experimental analysis has proved that this maze protection technology was better than other virtual machine protection technologies.