Approximately 7 million survivors of stroke reside in the United States. Over half of these individuals will have residual deficits, making stroke one of the leading causes of disability. Long-term rehabilitation opportunities are critical for millions of individuals with chronic upper limb motor deicits due to stroke. Traditional in-home rehabilitation is reported to be dull, boring, and un-engaging. Moreover, existing rehabilitation technologies are not user-friendly and cannot be adaptable to different and ever-changing demands from individual stroke survivors. In this work, we present RehabPhone, a highly-usable software-defined stroke rehabilitation paradigm using the smartphone and 3D printing technologies. This software-definition has twofold. First, RehabPhone leverages the cost-effective 3D printing technology to augment ordinal smartphones into customized rehabilitation tools. The size, weight, and shape of rehabilitation tools are software-defined according to individual rehabilitation needs and goals. Second, RehabPhone integrates 13 functional rehabilitation activities co-designed with stroke professionals into a smartphone APP. The software utilizes built-in smartphone sensors to analyzes rehabilitation activities and provides real-time feedback to coach and engage stroke users. We perform the in-lab usability optimization with the RehabPhone prototype with involving 16 healthy adults and 4 stroke survivors. After that, we conduct a 6-week unattended intervention study in 12 homes of stroke residence. In the course of the clinical study, over 32,000 samples of physical rehabilitation activities are collected and evaluated. Results indicate that stroke users with RehabPhone demonstrate a high adherence and clinical efficacy in a self-managed home-based rehabilitation course. To the best of our knowledge, this is the first exploratory clinical study using mobile health technologies in real-world stroke rehabilitation.