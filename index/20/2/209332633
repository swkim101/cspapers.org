Exploiting the rapid advances in probabilistic inference, in particular variational autoencoders (VAEs) for machine learning (ML) anomaly detection (AD) tasks, remains an open research question. In this work, we use the deep conditional varia-tional autoencoders (CVAE), and we define an original loss function together with a metric that targets AD for hierarchically structured data. Our target application is a real world problem: monitoring the trigger system which is a component of many particle physics experiments at the CERN Large Hadron Collider (LHC). Experiments show the superior performance of this method over vanilla VAEs.