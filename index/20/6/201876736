Collaborative robots, or cobots, can improve the working conditions of human operators by decreasing their workload. By assisting the operator both mentally and physically, the overall performance and human wellbeing can be enhanced. The use of cobots in factories introduces new challenges. In this paper, we briefly highlight our contributions to this field. Firstly, we present our collaborative architecture for human-robot assembly tasks, whereby the operator is assisted and guided during the assembly process to lower his cognitive and physical load. In addition we discuss the working principles of our task allocation framework, based upon agent capabilities and ergonomic measurements, and which can be used within the pre-mentioned architecture.