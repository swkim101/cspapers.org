An important issue of using matrix factorization for recommender systems is to capture the dynamics of user preference over time for more accurate prediction. We find that considering the existence of clusters among users with respect to evolution behavior of their preference can improve performance effectively. This is especially important to commercial recommender systems, where the evolution of preference for different users is heterogeneous, and historical ratings are not enough to estimate the preference of each user individually. Based on this, we propose a novel Bayesian nonparametric method based on the Dirichlet process, to detect users sharing the same evolution behavior of their preference. For each community, we use vector autoregressive model (VAR) to capture the evolution to explore higher-order dependency on historical user preference, and incorporate this feature with a novel adaptive prior strategy. We also derive variational inference approach to infer our method. Finally, we conduct extensive empirical experiments to show the advantage of our method over state-of-the-art algorithms.