This paper addresses reliable and accurate indoor localization using inertial sensors commonly found on commodity smartphones. We believe indoor positioning is an important primitive that can enable many ubiquitous computing applications. To tackle the challenges of drifting in estimation, sensitivity to phone position, as well as variability in user walking profiles, we have developed algorithms for reliable detection of steps and heading directions, and accurate estimation and personalization of step length. We've built an end-to-end localization system integrating these modules and an indoor floor map, without the need for infrastructure assistance. We demonstrated for the first time a meter-level indoor positioning system that is infrastructure free, phone position independent, user adaptive, and easy to deploy. We have conducted extensive experiments on users with smartphone devices, with over 50 subjects walking over an aggregate distance of over 40 kilometers. Evaluation results showed our system can achieve a mean accuracy of 1.5m for the in-hand case and 2m for the in-pocket case in a 31m√ó15m testing area.