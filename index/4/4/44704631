This paper discusses one way to limit the cost of executing declaratively specified nondeterministic programs. The approach we take is to develop control heuristics for a family of problems from traces of sample solutions generated during a training session with a human expert. Algorithms have been developed which recognize a set of patterns in the sequence of 'knowledge applications' and which compile descriptions of these patterns in a control language, called CRAPS. The CRAPS descriptions generated are then used for guidance in solving subsequent problems. We describe an implementation of this approach and give the results of several experiments.