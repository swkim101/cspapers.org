This paper addresses robot task model learning and planning with loops. By detecting and modeling loops in solved tasks it is possible to learn and solve wider classes of problems. We extend our previous work on experience-based planning domains in robotics to detect, represent and generate loops in action sequences. This approach provides methods for, (i) conceptualizing robot experiences possibly containing loops and learning high-level robot activity schemata with loops; and (ii) instantiating schemata with loops for solving problem instances of the same task with varying sets of objects. Demonstrations of this system in both real and simulated environments prove its potentialities.