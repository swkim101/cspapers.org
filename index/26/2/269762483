Generating mobile traffic in urban contexts is important for network optimization. However, existing solutions show weakness in capturing complex temporal features of mobile traffic. In this paper, we propose a Knowledge-Guided Conditional Diffusion model (KGDiff) for controllable mobile traffic generation, where a customized denoising network of diffusion model is designed to explore the temporal features of mobile traffic. Specifically, we design a frequency attention mechanism that incorporates an Urban Knowledge Graph (UKG) to adaptively capture implicit correlations between mobile traffic and urban environments in the frequency domain. This approach enables the model to generate network traffic corresponding to different environments in a controlled manner, enhancing the model's controllability. Experiments on one real-world dataset show that the proposed framework has good controllability and can improve generation fidelity with gains surpassing 19%.