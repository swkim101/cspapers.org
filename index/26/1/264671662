In this paper, an overall framework for crowd analysis is presented. Detection and tracking of pedestrians as well as detection of dense crowds is performed on image sequences to improve simulation models of pedestrian flows. Additionally, graph-based event detection is performed by using Hidden Markov Models on pedestrian trajectories utilizing knowledge from simulations. Experimental results show the benefit of our integrated framework using simulation and real-world data for crowd analysis.