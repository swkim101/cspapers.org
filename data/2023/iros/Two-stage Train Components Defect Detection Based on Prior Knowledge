The existing method of detecting defects in train components, which relies on visual identification, requires extensive involvement from inspectors and presents certain limitations. In this study, a two-stage defect detection based on prior knowledge was developed, which first detects the types and positions of components, and then conducts targeted detection of possible existing defect types. The algorithm introduces the prior knowledge of the relative spatial position relationship of components and optimizes the detection of sub-components by cascaded convolutional neural networks and local scale-up. In this study, three methods were used, including deep learning, template matching, and quantitative evaluation based on prior knowledge, to perform targeted detection of defect types that may occur in components. Experiments have verified the adaptability and accuracy of the method, demonstrating its high value for engineering applications.