This study describes the human activity recognition method for the Sussex-Huawei Locomotion-Transportation (SHL) recognition challenge by team TDU_BSA. The user and phone location of the test data were estimated; the phone location of the test data was expected to be in the hand of the user. For each segment of the test data, users and phone location were then estimated. By combining motion sensors (accelerometer, gyroscope, and magnetometer) with location, we achieved a higher accuracy than in the case of previous challenges. The classification accuracy was improved by ensemble learning of LSTM(Long Short-Term Memory)-based deep learning and XGBoost model. Finally, by applying a mode filter to the estimation results, the F-measure of the SHL validation set was 98.5% at the submission stage.