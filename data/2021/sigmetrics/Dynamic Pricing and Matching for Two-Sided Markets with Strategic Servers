Motivated by applications in online marketplaces such as ridesharing, we study dynamic pricing and matching in two-sided queues with strategic servers. We consider a discrete-time process in which, heterogeneous customers and servers arrive. Each customer joins their type's queue, while servers might join a different type's queue depending on the prices posted by the system operator and an inconvenience cost. Then the system operator, constrained by a compatibility graph, decides the matching. The objective is to maximize the profit minus the expected waiting times. We develop a general framework that enables us to analyze a broad range of strategic behaviors. In particular, we encode servers' behavior in a properly defined cost function that can be tailored to various settings. Using this general cost function, we introduce a novel probabilistic fluid problem as an infinite dimensional optimization program. The probabilistic fluid model provides an upper bound on the achievable profit. We then study the system under a large market regime in which the arrival rates are scaled by η and present a probabilistic two-price policy and a max-weight matching policy which results in $O(η^1/3 )$ profit-loss. In addition, under a broad class of customer pricing policies, we show that any matching policy has profit-loss Ω(η1/3). Conditional on a given expected waiting time, we also establish scale-free lower and upper bounds for the profit. Our asymptotic analysis provides insight into near-optimal pricing and matching decisions, and our scale-free bounds provide insights into how different service levels impact the firm's profit.